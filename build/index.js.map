{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/@babel/runtime/helpers/esm/extends.js","webpack:///./node_modules/@babel/runtime/helpers/extends.js","webpack:///./node_modules/classnames/index.js","webpack:///@media-manager/block-editor-complements/src/components/index.js","webpack:///@media-manager/block-editor-complements/src/components/media-selector/index.js","webpack:///@media-manager/block-editor-complements/src/components/with-colors/index.js","webpack:///@media-manager/block-editor-complements/src/components/with-sizes/index.js","webpack:///@media-manager/block-editor-complements/src/constants.js","webpack:///@media-manager/block-editor-complements/src/hooks/colors/index.js","webpack:///@media-manager/block-editor-complements/src/hooks/connect/consumer.js","webpack:///@media-manager/block-editor-complements/src/hooks/connect/index.js","webpack:///@media-manager/block-editor-complements/src/hooks/connect/provider.js","webpack:///@media-manager/block-editor-complements/src/hooks/index.js","webpack:///@media-manager/block-editor-complements/src/hooks/media-selector/index.js","webpack:///@media-manager/block-editor-complements/src/hooks/sizes/index.js","webpack:///@media-manager/block-editor-complements/src/index.js","webpack:///@media-manager/components/src/icons/index.js","webpack:///@media-manager/components/src/index.js","webpack:///@media-manager/components/src/media-player/index.js","webpack:///@media-manager/format-library/src/index.js","webpack:///@media-manager/format-library/src/media-link/index.js","webpack:///@media-manager/format-library/src/media-link/input-rule-handler.js","webpack:///@media-manager/format-library/src/media-link/media-link-popover.js","webpack:///@media-manager/format-library/src/media-link/view.js","webpack:///@media-manager/media-connect/src/constants.js","webpack:///@media-manager/media-connect/src/hooks/use-current-time/index.js","webpack:///@media-manager/media-connect/src/hooks/use-media-source-id/index.js","webpack:///@media-manager/media-connect/src/hooks/use-media-store/index.js","webpack:///@media-manager/media-connect/src/index.js","webpack:///@media-manager/media-connect/src/store/actions.js","webpack:///@media-manager/media-connect/src/store/constants.js","webpack:///@media-manager/media-connect/src/store/index.js","webpack:///@media-manager/media-connect/src/store/reducer.js","webpack:///@media-manager/media-connect/src/store/selectors.js","webpack:///@media-manager/time-utils/src/index.js","webpack:///./src/block-library/index.js","webpack:///./src/block-library/media-center/edit.js","webpack:///./src/block-library/media-center/editor.scss","webpack:///./src/block-library/media-center/index.js","webpack:///./src/block-library/media-center/save.js","webpack:///./src/block-library/media-player/edit.js","webpack:///./src/block-library/media-player/editor.scss","webpack:///./src/block-library/media-player/index.js","webpack:///./src/block-library/media-player/save.js","webpack:///./src/block-library/pause-button/edit.js","webpack:///./src/block-library/pause-button/editor.scss","webpack:///./src/block-library/pause-button/index.js","webpack:///./src/block-library/pause-button/save.js","webpack:///./src/block-library/play-button/edit.js","webpack:///./src/block-library/play-button/editor.scss","webpack:///./src/block-library/play-button/index.js","webpack:///./src/block-library/play-button/save.js","webpack:///./src/block-library/play-pause-button/edit.js","webpack:///./src/block-library/play-pause-button/editor.scss","webpack:///./src/block-library/play-pause-button/index.js","webpack:///./src/block-library/play-pause-button/save.js","webpack:///./src/block-library/time-position/edit.js","webpack:///./src/block-library/time-position/editor.scss","webpack:///./src/block-library/time-position/index.js","webpack:///./src/block-library/time-position/save.js","webpack:///./src/editor.scss","webpack:///./src/extending/constants.js","webpack:///./src/extending/index.js","webpack:///./src/extending/media-blocks/index.js","webpack:///./src/extending/utils.js","webpack:///./src/index.js","webpack:///external [\"wp\",\"blockEditor\"]","webpack:///external [\"wp\",\"blocks\"]","webpack:///external [\"wp\",\"components\"]","webpack:///external [\"wp\",\"compose\"]","webpack:///external [\"wp\",\"data\"]","webpack:///external [\"wp\",\"domReady\"]","webpack:///external [\"wp\",\"element\"]","webpack:///external [\"wp\",\"hooks\"]","webpack:///external [\"wp\",\"i18n\"]","webpack:///external [\"wp\",\"richText\"]","webpack:///external \"lodash\""],"names":["elementType","onPlayToggle","onItemSelect","onReady","onRemove","itemReference","useRef","useState","setIsPlaying","useEffect","mediaElement","document","type","showTypeLabel","event","isMediaInherited","selectBlock","useDispatch","__","isNotAvailable","onReplace","source","element","convertSecondsToTimeCode","sprintf","onUnlink","onMediaSelect","media","other","id","mediaPlayingElementRef","setMediaPlayingElementRef","createHigherOrderComponent","BlockEdit","props","panelTitle","supportProps","colorSettings","contrastCheckerProps","support","value","label","onChange","defaultSizes","name","slug","key","size","option","setAttributes","scale","getButtonSizeBySlug","selectedItem","selectorTitle","mediaProviderBlockAttributeName","mediaConsumerBlockAttributeName","getMediaManagerColorSupport","settings","getBlockSupport","getMediaManagerCustomClassNameSupport","mediaColor","customClassName","newProps","style","mediaColorClassNames","colorClassName","getColorClassName","attributes","attrName","stylePropName","classnames","supportStylePropsMap","attributeName","prop","upperCaseName","customAttributeName","setterAttributeName","className","existingGetEditWrapperProps","getEditWrapperProps","attrs","addMediaManagerColorSaveProps","edit","compose","withColors","withMediaManagerColors","addFilter","SUPPORT_NAME","withMediaConnect","OriginalBlock","mediaSourceId","useMediaSourceId","mediaSource","useMediaStore","isPaused","usesContext","mediaCenterBlockName","MEDIA_CURRENT_TIME_THRESHOLD","MEDIA_CURRENT_STATE_THRESHOLD","MediaEditProviderWrapper","mediaElementRef","ref","mediaSourceIdAttr","domTypeName","mediaSourceUrl","updateBlockAttributes","setCurrentTime","currentTime","useCurrentTime","mediaCenterParentBlock","useSelect","select","mediaCenterParentClientId","mediaCenterParentSourceIdAttr","updateData","duration","mediaIdExists","doSelect","clientId","querySelector","updateElementRef","register","mediaBlockClientId","MEDIA_NOT_DEFINED","unregister","current","action","debouncedAction","debounce","throttledTimeChange","throttle","time","onTimeChange","leading","trailing","onTimeUpdate","e","Math","useLayoutEffect","observer","window","childList","subtree","MediaEditConnectProvider","providerProps","blockProviderProps","useInsertMediaBlock","insertBlock","useCallback","blockType","index","mediaBlock","createBlock","withMediaSelector","context","mediaSourceReferenceId","isNotDefined","mediaSources","setSourceReferenceId","sourceId","insertMediaBlock","setIsReplacing","title","description","icon","getBlockType","isReplacing","instructions","values","insertEmptyMediaBlock","sizes","default","addMediaManagerSizeSaveProps","withSizes","MovieIcon","MediaCenterIcon","MediaLinkIcon","withScale","Icon","PlayerPlayIcon","PlayerPauseIcon","ControlForwardFiveIcon","ControlBackFiveIcon","PlayerPlayPauseIcon","PlayerIcon","TimePositionIcon","MediaConnectIcon","setRangeTime","debouncedOnChange","debOnChange","toggle","currentTimeFormatted","onChangeTimeHandler","toggleInTime","contentRef","mediatCenterBlockClientId","shouldExtendBlockWithMedia","mediaCenterBlock","domRef","getActiveFormat","ownerDocument","defaultView","mediaLinkFormatTimestamp","isSingleOnTheFlyStyle","selection","selectedText","Number","isCollapsed","isTimeformat","convertTimeCodeToSeconds","multipleFormats","hasMultipleTimeformats","timestamp","applyFormat","getStyleObject","toggleFormat","setIsMultipleEdition","applyFormatStyleHandler","isActive","match","getTimeformatMatch","startIndex","endIndex","tagName","__unstableInputRule","inputRuleHandler","getBlockParentsByBlockName","isChildOfMediaCenter","getSelectedBlockClientId","SIMPLE_OPEN_TRIGGER_CHAR","SIMPLE_CLOSE_TRIGGER_CHAR","MD_OPEN_TRIGGER_CHAR","MD_CLOSE_TRIGGER_CHAR","text","trigger","start","isTriggerChar","textBefore","characterBefore","parts","isMarkdownTimeformat","charsToRemove","remove","onIgnoreMultipleFormat","anchorRef","useAnchorRef","showMultipleEdition","isMultipleEdition","createInterpolateElement","_n","strong","onApplyMultipleFormat","elementRef","play","STORE_NAME","STATE_PLAYING","STATE_ERROR","STATE_PAUSED","state","playingState","isReady","updateMediaSourceData","setMediaSourceCurrentTime","playMediaSource","pause","pauseMediaSource","toggleMediaSource","registerMediaSource","unregisterMediaSource","data","mediaSourceState","STATE_NOT_READY","DEFAULT_STATE","sources","store","createReduxStore","selectors","actionId","Object","currentState","playerId","keys","defaultMediaSource","getDefaultMediaSource","timecodeRegExp","multiple","singleTimecodeRegExp","multipleTimecodeRegExp","markdownTimeformat","markdownTimeformatRegExp","seconds","string","MEDIA_CENTER_TEMPLATE","placeholder","MediaCenterEdit","useBlockProps","blockName","registerBlockType","Edit","save","PLAYER_BLOCKS","playButtonBlockName","pauseButtonBlockName","playPauseButtonBlockName","TimePositionBlockName","INNER_BLOCKS_TEMPLATE","MediaPlayerEditBlock","blockProps","innerBlocksProps","useInnerBlocksProps","allowedBlocks","orientation","templateLock","template","PlayEditBlock","isSelected","domReady","PlayPauseEditBlock","TimePositionDisplayEditBlock","BLOCK_NAME_CORE_VIDEO","BLOCK_NAME_CORE_AUDIO","BLOCK_NAME_CORE_PARAGRAPH","BLOCK_NAME_CORE_HEADING","BLOCK_NAME_CORE_QUOTE","BLOCK_NAME_CORE_LIST","EXTENDED_MEDIA_BLOCKS","MEDIA_BLOCKS_ATTRIBUTE_SCHEMA","EXTEND_BLOCKS_WITH_MEDIA","registerMediaBlocksSource","shouldExtendMediaBlock","supports","SUPPORT_CONNECT_PROVIDER","getBlockSourceProps","isMediaBlockListed","indexOf","isBlockListed","hasBlockValidScheme","blockSchema","selectedBlock","blockEditorStore","getSelectedBlock","registerFormatType","mediaLink"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;QAAA;QACA;QACA;QACA;QACA;;QAEA;QACA;QACA;QACA,QAAQ,oBAAoB;QAC5B;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA,iBAAiB,4BAA4B;QAC7C;QACA;QACA,kBAAkB,2BAA2B;QAC7C;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;;QAEA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;;;QAGA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA,0CAA0C,gCAAgC;QAC1E;QACA;;QAEA;QACA;QACA;QACA,wDAAwD,kBAAkB;QAC1E;QACA,iDAAiD,cAAc;QAC/D;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,yCAAyC,iCAAiC;QAC1E,gHAAgH,mBAAmB,EAAE;QACrI;QACA;;QAEA;QACA;QACA;QACA,2BAA2B,0BAA0B,EAAE;QACvD,iCAAiC,eAAe;QAChD;QACA;QACA;;QAEA;QACA,sDAAsD,+DAA+D;;QAErH;QACA;;QAEA;QACA;QACA;QACA;QACA,gBAAgB,uBAAuB;QACvC;;;QAGA;QACA;QACA;QACA;;;;;;;;;;;;;ACvJA;AAAA;AAAe;AACf;AACA,mBAAmB,sBAAsB;AACzC;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,C;;;;;;;;;;;AChBA;AACA;AACA,mBAAmB,sBAAsB;AACzC;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,6E;;;;;;;;;;;ACpBA;AACA;AACA;AACA;AACA;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","file":"index.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"index\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp_media_manager\"] = window[\"webpackJsonp_media_manager\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([\"./src/index.js\",\"style-index\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export default function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}","function _extends() {\n  module.exports = _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n  return _extends.apply(this, arguments);\n}\n\nmodule.exports = _extends;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","/*!\n  Copyright (c) 2018 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames() {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\tif (arg.length) {\n\t\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\t\tif (inner) {\n\t\t\t\t\t\tclasses.push(inner);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tif (arg.toString === Object.prototype.toString) {\n\t\t\t\t\tfor (var key in arg) {\n\t\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tclasses.push(arg.toString());\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","export * from './media-selector';\nexport * from './with-colors';\nexport * from './with-sizes';\n","/**\n * WordPress dependencies\n */\nimport { useRef, useEffect, useState, Fragment } from '@wordpress/element';\nimport { __, sprintf } from '@wordpress/i18n';\nimport { PanelBody, PanelRow, Button, Notice, Icon } from '@wordpress/components';\nimport { store as blockEditorStore } from '@wordpress/block-editor';\nimport { useDispatch } from '@wordpress/data';\nimport { convertSecondsToTimeCode } from '@media-manager/time-utils';\nimport { PlayPauseButton, MediaConnectIcon } from '@media-manager/components';\n\n/**\n * Internal dependencies\n */\n\nexport function MediaItem( {\n\telementType: type,\n\tsource,\n\tid,\n\tshowTypeLabel,\n\tonPlayToggle = () => {},\n\tonItemSelect = () => {},\n\tonReady = () => {},\n\tonRemove = () => {},\n} ) {\n\tconst itemReference = useRef();\n\tconst [ isPlaying, setIsPlaying ] = useState( false );\n\n\tfunction onPlayHandler() {\n\t\tsetIsPlaying( true );\n\t}\n\n\tfunction onPauseHandler() {\n\t\tsetIsPlaying( false );\n\t}\n\n\tuseEffect( () => {\n\t\tif ( ! itemReference?.current ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Construct media element.\n\t\tconst mediaElement = document.createElement( type );\n\t\tmediaElement.src = source;\n\n\t\t// Insert player into the DOM.\n\t\titemReference.current.appendChild( mediaElement );\n\t\tonReady( mediaElement, id );\n\n\t\tmediaElement.addEventListener( 'play', onPlayHandler );\n\t\tmediaElement.addEventListener( 'pause', onPauseHandler );\n\n\t\treturn function() {\n\t\t\tonRemove( mediaElement, id );\n\t\t\tmediaElement.removeEventListener( 'play', onPlayHandler );\n\t\t\tmediaElement.removeEventListener( 'pause', onPauseHandler );\n\t\t};\n\t}, [ itemReference ] );\n\n\treturn (\n\t\t<div\n\t\t\tclassName=\"media__item-wrapper\"\n\t\t\tonClick={ () => onItemSelect( id ) }\n\t\t>\n\t\t\t<div className=\"media__item\" ref={ itemReference } />\n\n\t\t\t<div className=\"media__item-metadata\">\n\t\t\t\t<Icon\n\t\t\t\t\tclassName=\"media__item-icon\"\n\t\t\t\t\ticon={ `format-${ type }` }\n\t\t\t\t\tsize={ 36 }\n\t\t\t\t/>\n\n\t\t\t\t{ showTypeLabel && <strong> { type }</strong> }\n\n\t\t\t\t<PlayPauseButton\n\t\t\t\t\tclassName=\"media__item-play-button\"\n\t\t\t\t\tisPaused={ ! isPlaying }\n\t\t\t\t\tonClick={ ( event ) => {\n\t\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\t\tonPlayToggle(\n\t\t\t\t\t\t\titemReference.current?.querySelector( type ),\n\t\t\t\t\t\t\tid\n\t\t\t\t\t\t);\n\t\t\t\t\t} }\n\t\t\t\t\tisSmall\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport function MediaItemPanelBody( {\n\tsource,\n\tisReady,\n\tisNotAvailable,\n\tisNotDefined,\n\tonReplace,\n\tonUnlink,\n\tisMediaInherited,\n} ) {\n\tconst { selectBlock } = useDispatch( blockEditorStore );\n\n\treturn (\n\t\t<PanelBody\n\t\t\tclassName=\"media-source-panel\"\n\t\t\ttitle={ __( 'Media Source Consumer', 'media-manager' ) }\n\t\t>\n\t\t\t<p>\n\t\t\t\t{ __(\n\t\t\t\t\t'This block is connected to a media source.',\n\t\t\t\t\t'media-manager'\n\t\t\t\t) }\n\t\t\t</p>\n\n\t\t\t{ ( ! isReady || isNotAvailable || isNotDefined ) && (\n\t\t\t\t<Fragment>\n\t\t\t\t\t<PanelRow>\n\t\t\t\t\t\t<Notice\n\t\t\t\t\t\t\tspokenMessage={ null }\n\t\t\t\t\t\t\tstatus={ isNotAvailable && ! isNotDefined ? 'error' : 'warning' }\n\t\t\t\t\t\t\tisDismissible={ false }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tisNotAvailable && ! isNotDefined\n\t\t\t\t\t\t\t\t\t? __( 'Media is not available anymore', 'media-manager' )\n\t\t\t\t\t\t\t\t\t: __( 'No media linked to this block', 'media-manager' )\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</Notice>\n\t\t\t\t\t</PanelRow>\n\n\t\t\t\t\t<PanelRow>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tisSecondary\n\t\t\t\t\t\t\tisSmall\n\t\t\t\t\t\t\tlabel={ __(\n\t\t\t\t\t\t\t\t'Link to a media source',\n\t\t\t\t\t\t\t\t'media-manager'\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\tonClick={ onReplace }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ __( 'Link to Media', 'media-manager' ) }\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</PanelRow>\n\t\t\t\t</Fragment>\n\t\t\t) }\n\n\t\t\t{ source && (\n\t\t\t\t<Fragment>\n\t\t\t\t\t<PanelRow>\n\t\t\t\t\t\t<MediaItem\n\t\t\t\t\t\t\t{ ...source }\n\t\t\t\t\t\t\tshowTypeLabel={ true }\n\t\t\t\t\t\t\tonPlayToggle={ ( element ) => {\n\t\t\t\t\t\t\t\tif ( ! element ) {\n\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tif ( element.paused ) {\n\t\t\t\t\t\t\t\t\treturn element.play();\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\telement.pause();\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</PanelRow>\n\n\t\t\t\t\t<PanelRow>\n\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t{ __( 'Filename:', 'media-manager' ) }\n\t\t\t\t\t\t\t\t<strong> { source.source }</strong>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t{ __( 'Duration:', 'media-manager' ) }\n\t\t\t\t\t\t\t\t<strong>\n\t\t\t\t\t\t\t\t\t{ ' ' }\n\t\t\t\t\t\t\t\t\t{ convertSecondsToTimeCode(\n\t\t\t\t\t\t\t\t\t\tsource.duration\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t</strong>\n\t\t\t\t\t\t\t</li>\n\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t{ sprintf(\n\t\t\t\t\t\t\t\t\t/* translators: %1$s: block title, %2$s: author name. */\n\t\t\t\t\t\t\t\t\t__( 'Connected to a %1$s.', 'media-manager' ),\n\t\t\t\t\t\t\t\t\tsource.elementType\n\t\t\t\t\t\t\t\t) }\n\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tclassName=\"components-button__focus\"\n\t\t\t\t\t\t\t\t\tisLink\n\t\t\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\t\t\tif ( ! source.mediaBlockClientId ) {\n\t\t\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tselectBlock(\n\t\t\t\t\t\t\t\t\t\t\tsource.mediaBlockClientId\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{ __( 'Focus', 'media-manager' ) }\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</PanelRow>\n\n\t\t\t\t\t{ ! isMediaInherited && (\n\t\t\t\t\t\t<PanelRow>\n\t\t\t\t\t\t\t<div className=\"media-source-panel__actions\">\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tisSecondary\n\t\t\t\t\t\t\t\t\tisSmall\n\t\t\t\t\t\t\t\t\tlabel={ __(\n\t\t\t\t\t\t\t\t\t\t'Replacing linked media source',\n\t\t\t\t\t\t\t\t\t\t'media-manager'\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\tonClick={ onReplace }\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{ __( 'Replace Media', 'media-manager' ) }\n\t\t\t\t\t\t\t\t</Button>\n\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tisTertiary\n\t\t\t\t\t\t\t\t\tisSmall\n\t\t\t\t\t\t\t\t\tlabel={ __(\n\t\t\t\t\t\t\t\t\t\t'Unlink media source',\n\t\t\t\t\t\t\t\t\t\t'media-manager'\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\tonClick={ () => onUnlink( true ) }\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{ __( 'Unlink Media', 'media-manager' ) }\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</PanelRow>\n\t\t\t\t\t) }\n\t\t\t\t</Fragment>\n\t\t\t) }\n\t\t</PanelBody>\n\t);\n}\n\n/**\n * Block settings Pane to show info\n * about block as media provider\n */\nexport function MediaConnectProviderPanelBody() {\n\treturn (\n\t\t<PanelBody\n\t\t\ticon={ MediaConnectIcon }\n\t\t\tclassName=\"media-source-panel\"\n\t\t\ttitle={ __( 'Media Source Provider', 'media-manager' ) }\n\t\t>\n\t\t\t<p>\n\t\t\t\t{ __(\n\t\t\t\t\t'This block has been defined as media provider, meaning you can connect and command it from other blocks.',\n\t\t\t\t\t'media-manager'\n\t\t\t\t) }\n\t\t\t</p>\n\t\t</PanelBody>\n\t);\n}\n\nexport function MediaSelector( { media, onMediaSelect } ) {\n\tconst [ mediaPlayingElementRef, setMediaPlayingElementRef ] = useState();\n\n\tif ( ! media?.length ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<div className=\"media-selector\">\n\t\t\t<h4>\n\t\t\t\t{ __(\n\t\t\t\t\t'Pick up a media from the media sources list available for this entrance.',\n\t\t\t\t\t'media-manager'\n\t\t\t\t) }\n\t\t\t</h4>\n\t\t\t<ul>\n\t\t\t\t{ media.map( function( { id, ...other } ) {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<li key={ `item-${ id }` }>\n\t\t\t\t\t\t\t<MediaItem\n\t\t\t\t\t\t\t\tid={ id }\n\t\t\t\t\t\t\t\t{ ...other }\n\t\t\t\t\t\t\t\tisPaused={ mediaPlayingElementRef?.paused }\n\t\t\t\t\t\t\t\tonPlayToggle={ ( element ) => {\n\t\t\t\t\t\t\t\t\t// Seek previous media element by media Id.\n\t\t\t\t\t\t\t\t\t// If so, stop it.\n\t\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t\tmediaPlayingElementRef &&\n\t\t\t\t\t\t\t\t\t\tmediaPlayingElementRef !== element\n\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\tmediaPlayingElementRef?.pause();\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tif ( element.paused ) {\n\t\t\t\t\t\t\t\t\t\tsetMediaPlayingElementRef( element );\n\t\t\t\t\t\t\t\t\t\treturn element.play();\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tsetMediaPlayingElementRef( null );\n\t\t\t\t\t\t\t\t\telement.pause();\n\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\tonItemSelect={ onMediaSelect }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t);\n\t\t\t\t} ) }\n\t\t\t</ul>\n\t\t</div>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { createHigherOrderComponent } from '@wordpress/compose';\nimport { Fragment } from '@wordpress/element';\nimport {\n\tInspectorControls,\n\tPanelColorSettings,\n\tContrastChecker,\n} from '@wordpress/block-editor';\nimport { __ } from '@wordpress/i18n';\n\nexport function withMediaManagerColors( supportProps ) {\n\treturn createHigherOrderComponent(\n\t\t( BlockEdit ) => ( props ) => {\n\t\t\t// Panel title.\n\t\t\tconst panelTitle =\n\t\t\t\tsupportProps.__sectionTitle ||\n\t\t\t\t__( 'Color settings', 'media-manager' );\n\n\t\t\t// Panel color settings.\n\t\t\tconst colorSettings = [];\n\n\t\t\t// Contrast checker.\n\t\t\tconst contrastCheckerProps = {};\n\n\t\t\tfor ( const prop in supportProps ) {\n\t\t\t\tif ( /^__/.test( prop ) ) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tconst support = supportProps[ prop ];\n\t\t\t\tconst value = props[ support.attributeName ]?.color;\n\t\t\t\tcolorSettings.push( {\n\t\t\t\t\tlabel: supportProps[ prop ]?.label,\n\t\t\t\t\tvalue,\n\t\t\t\t\tonChange: props[ support.setterAttributeName ],\n\t\t\t\t} );\n\n\t\t\t\tif ( supportProps.__contrastChecker ) {\n\t\t\t\t\tcontrastCheckerProps[\n\t\t\t\t\t\tsupport.style === 'color'\n\t\t\t\t\t\t\t? 'textColor'\n\t\t\t\t\t\t\t: 'backgroundColor'\n\t\t\t\t\t] = value;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn (\n\t\t\t\t<Fragment>\n\t\t\t\t\t<InspectorControls>\n\t\t\t\t\t\t<PanelColorSettings\n\t\t\t\t\t\t\ttitle={ panelTitle }\n\t\t\t\t\t\t\tcolorSettings={ colorSettings }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ supportProps.__contrastChecker && (\n\t\t\t\t\t\t\t\t<ContrastChecker\n\t\t\t\t\t\t\t\t\t{ ...contrastCheckerProps }\n\t\t\t\t\t\t\t\t\tisLargeText={ false }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t</PanelColorSettings>\n\t\t\t\t\t</InspectorControls>\n\n\t\t\t\t\t<BlockEdit { ...props } />\n\t\t\t\t</Fragment>\n\t\t\t);\n\t\t},\n\t\t'withMediaManagerColors'\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { createHigherOrderComponent } from '@wordpress/compose';\nimport { Fragment } from '@wordpress/element';\nimport { CustomSelectControl, Panel, PanelBody } from '@wordpress/components';\nimport { InspectorControls } from '@wordpress/block-editor';\nimport { __ } from '@wordpress/i18n';\n\nconst defaultSizes = [\n\t{\n\t\tname: __( 'Small', 'media-manager' ),\n\t\tslug: 'small',\n\t\tkey: 'key-small',\n\t\tsize: 1,\n\t},\n\t{\n\t\tname: __( 'Normal', 'media-manager' ),\n\t\tslug: 'normal',\n\t\tkey: 'key-normal',\n\t\tsize: 1.5,\n\t},\n\t{\n\t\tname: __( 'Medium', 'media-manager' ),\n\t\tslug: 'medium',\n\t\tkey: 'key-medium',\n\t\tsize: 2,\n\t},\n\t{\n\t\tname: __( 'Large', 'media-manager' ),\n\t\tslug: 'large',\n\t\tkey: 'key-large',\n\t\tsize: 2.5,\n\t},\n\t{\n\t\tname: __( 'Giant', 'media-manager' ),\n\t\tslug: 'giant',\n\t\tkey: 'key-giant',\n\t\tsize: 4,\n\t},\n];\n\nexport function getButtonSizeBySlug( slug ) {\n\treturn defaultSizes.find( ( option ) => option.slug === slug )?.size || 1.5;\n}\n\nexport function withSizes( supportProps ) {\n\treturn createHigherOrderComponent(\n\t\t( BlockEdit ) => ( props ) => {\n\t\t\tconst { attributes, setAttributes } = props;\n\t\t\tconst { size } = attributes;\n\t\t\tconst scale = getButtonSizeBySlug( size );\n\n\t\t\tfunction setSize( { selectedItem } ) {\n\t\t\t\tif ( ! selectedItem?.slug ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tsetAttributes( { size: selectedItem.slug } );\n\t\t\t}\n\n\t\t\t// Panel title.\n\t\t\tconst panelTitle = supportProps.__sectionTitle;\n\t\t\tconst selectorTitle =\n\t\t\t\tsupportProps.__selectorTitle || __( 'Sizes', 'media-manager' );\n\n\t\t\treturn (\n\t\t\t\t<Fragment>\n\t\t\t\t\t<InspectorControls>\n\t\t\t\t\t\t<Panel>\n\t\t\t\t\t\t\t<PanelBody title={ panelTitle }>\n\t\t\t\t\t\t\t\t<CustomSelectControl\n\t\t\t\t\t\t\t\t\tlabel={ selectorTitle }\n\t\t\t\t\t\t\t\t\toptions={ defaultSizes }\n\t\t\t\t\t\t\t\t\tonChange={ setSize }\n\t\t\t\t\t\t\t\t\tvalue={ defaultSizes.find(\n\t\t\t\t\t\t\t\t\t\t( option ) => option.slug === size\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</PanelBody>\n\t\t\t\t\t\t</Panel>\n\t\t\t\t\t</InspectorControls>\n\n\t\t\t\t\t<BlockEdit { ...props } scale={ scale } />\n\t\t\t\t</Fragment>\n\t\t\t);\n\t\t},\n\t\t'withSizes'\n\t);\n}\n","// Attribute name used to populate the provider blocks.\nexport const mediaProviderBlockAttributeName = 'mediaSourceId';\n\n// Attribute name used to poulate the consumer blocks.\nexport const mediaConsumerBlockAttributeName = 'mediaSourceReferenceId';\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { addFilter } from '@wordpress/hooks';\nimport { withColors, getColorClassName } from '@wordpress/block-editor';\nimport { compose } from '@wordpress/compose';\nimport { getBlockSupport } from '@wordpress/blocks';\n\n/**\n * Internal dependencies\n */\nimport { withMediaManagerColors } from '../../';\n\nexport const getMediaManagerColorSupport = ( settings ) =>\n\tgetBlockSupport( settings, 'media-manager/color' );\n\nexport const getMediaManagerCustomClassNameSupport = ( settings ) =>\n\tgetBlockSupport( settings, 'media-manager/customClassName' );\n\nfunction addMediaManagerColorSaveProps( props, settings, attributes ) {\n\tconst mediaColor = getMediaManagerColorSupport( settings );\n\tif ( ! mediaColor ) {\n\t\treturn props;\n\t}\n\n\tconst customClassName = getMediaManagerCustomClassNameSupport( settings );\n\n\tconst newProps = { ...props, style: props.style || {} };\n\n\tconst mediaColorClassNames = [];\n\tfor ( const prop in mediaColor ) {\n\t\tif ( /^__/.test( prop ) ) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tconst colorClassName = getColorClassName(\n\t\t\tmediaColor[ prop ].style,\n\t\t\tattributes[ mediaColor[ prop ].attributeName ]\n\t\t);\n\n\t\tmediaColorClassNames.push( colorClassName );\n\n\t\tconst attrName = mediaColor[ prop ].customAttributeName;\n\n\t\tconst stylePropName =\n\t\t\tmediaColor[ prop ].style === 'background-color'\n\t\t\t\t? 'backgroundColor'\n\t\t\t\t: 'color';\n\n\t\tnewProps.style[ stylePropName ] = colorClassName\n\t\t\t? undefined\n\t\t\t: attributes[ attrName ];\n\t}\n\n\tnewProps.className = classnames(\n\t\tprops?.className,\n\t\t...mediaColorClassNames,\n\t\tcustomClassName\n\t);\n\n\treturn newProps;\n}\n\nfunction addMediaManagerColorSupport( settings ) {\n\tconst mediaColor = getMediaManagerColorSupport( settings );\n\tif ( ! mediaColor ) {\n\t\treturn settings;\n\t}\n\n\t// HOC withColors settings object.\n\tconst supportStylePropsMap = {};\n\n\t// Block attributes.\n\tconst attributes = {};\n\n\tfor ( const prop in mediaColor ) {\n\t\tif ( /^__/.test( prop ) ) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tconst attributeName = /\\wColor$/.test( prop ) ? prop : `${ prop }Color`;\n\t\tconst upperCaseName =\n\t\t\tattributeName.charAt( 0 ).toUpperCase() + attributeName.slice( 1 );\n\n\t\t// Populate mediaColor supports object.\n\t\tmediaColor[ prop ] = {\n\t\t\t...mediaColor[ prop ],\n\t\t\tattributeName,\n\t\t\tcustomAttributeName: `custom${ upperCaseName }`,\n\t\t\tsetterAttributeName: `set${ upperCaseName }`,\n\t\t\tstyle: mediaColor[ prop ]?.style || 'color',\n\t\t\tclassName: attributeName,\n\t\t};\n\n\t\t// Build withColors HOC settings.\n\t\tsupportStylePropsMap[ attributeName ] = mediaColor[ prop ].style;\n\n\t\t// Populate block attributes.\n\t\tattributes[ attributeName ] = { type: 'string' };\n\t\tattributes[ mediaColor[ prop ].customAttributeName ] = {\n\t\t\ttype: 'string',\n\t\t};\n\t}\n\n\tconst existingGetEditWrapperProps = settings.getEditWrapperProps;\n\n\treturn {\n\t\t...settings,\n\t\tattributes: {\n\t\t\t...settings.attributes,\n\t\t\t...attributes,\n\t\t},\n\n\t\tgetEditWrapperProps: ( attrs ) => {\n\t\t\tlet props = {};\n\t\t\tif ( existingGetEditWrapperProps ) {\n\t\t\t\tprops = existingGetEditWrapperProps( attrs );\n\t\t\t}\n\n\t\t\treturn addMediaManagerColorSaveProps( props, settings, attrs );\n\t\t},\n\n\t\tedit: compose( [\n\t\t\twithColors( supportStylePropsMap ),\n\t\t\twithMediaManagerColors( mediaColor ),\n\t\t] )( settings.edit ),\n\t};\n}\n\naddFilter(\n\t'blocks.registerBlockType',\n\t'media-manager/register-media-player-buttons-blocks',\n\taddMediaManagerColorSupport\n);\n\naddFilter(\n\t'blocks.getSaveContent.extraProps',\n\t'media-manager/add-media-player-buttons-save-props',\n\taddMediaManagerColorSaveProps\n);\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n/**\n * WordPress dependencies\n */\nimport { addFilter } from '@wordpress/hooks';\nimport { getBlockSupport } from '@wordpress/blocks';\nimport { createHigherOrderComponent } from '@wordpress/compose';\nimport { BlockContextProvider } from '@wordpress/block-editor';\nimport { useMediaStore, useMediaSourceId } from '@media-manager/media-connect';\n\n/**\n * Internal dependencies\n */\nimport { mediaConsumerBlockAttributeName } from '../../constants';\n\n// Define and export support name.\nexport const SUPPORT_NAME = 'media-manager/connect-consumer';\n\nexport const withMediaConnect = createHigherOrderComponent(\n\t( OriginalBlock ) => ( props ) => {\n\t\tconst mediaSourceId = useMediaSourceId(\n\t\t\tmediaConsumerBlockAttributeName,\n\t\t\tprops\n\t\t);\n\n\t\tconst mediaSource = useMediaStore( mediaSourceId );\n\n\t\treturn (\n\t\t\t<BlockContextProvider value={ { mediaSourceId } }>\n\t\t\t\t<OriginalBlock\n\t\t\t\t\t{ ...props }\n\t\t\t\t\tmediaContext={ { mediaSourceId } }\n\t\t\t\t\tmediaSource={ mediaSource }\n\t\t\t\t\tclassName={ classnames( props.className, {\n\t\t\t\t\t\t'is-media-paused': mediaSource.isPaused,\n\t\t\t\t\t} ) }\n\t\t\t\t/>\n\t\t\t</BlockContextProvider>\n\t\t);\n\t},\n\t'withMediaConnect'\n);\n\nfunction addMediaManagerConnectSupport( settings ) {\n\tif ( ! getBlockSupport( settings, SUPPORT_NAME ) ) {\n\t\treturn settings;\n\t}\n\n\treturn {\n\t\t...settings,\n\t\tusesContext: [ ...settings.usesContext, 'mediaSourceId' ],\n\t\tedit: withMediaConnect( settings.edit ),\n\t};\n}\n\naddFilter(\n\t'blocks.registerBlockType',\n\t'media-manager/register-media-player-connect-blocks',\n\taddMediaManagerConnectSupport\n);\n","/**\n * Internal dependencies\n */\nimport './provider';\nimport './consumer';\n","/**\n * External dependencies\n */\nimport { debounce, throttle } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { addFilter } from '@wordpress/hooks';\nimport { getBlockSupport } from '@wordpress/blocks';\nimport {\n\tuseSelect,\n\tuseDispatch,\n\tselect as doSelect,\n} from '@wordpress/data';\nimport { createHigherOrderComponent } from '@wordpress/compose';\nimport { useRef, useEffect, Fragment, useLayoutEffect } from '@wordpress/element';\nimport { Panel } from '@wordpress/components';\nimport {\n\tInspectorControls,\n\tstore as blockEditorStore,\n} from '@wordpress/block-editor';\nimport {\n\tstore as mediaSourceStore,\n\tMEDIA_NOT_DEFINED,\n\tuseMediaStore,\n\tuseCurrentTime,\n} from '@media-manager/media-connect';\n\n/**\n * Internal dependencies\n */\nimport { MediaConnectProviderPanelBody } from '../../';\nimport {\n\tmediaProviderBlockAttributeName,\n\tmediaConsumerBlockAttributeName,\n} from '../../constants';\n\nconst mediaCenterBlockName = 'media-manager/media-center';\n\n// Define and export support name.\nexport const SUPPORT_NAME = 'media-manager/connect-provider';\n\n// In-sync constants.\nconst MEDIA_CURRENT_TIME_THRESHOLD = 1000;\nconst MEDIA_CURRENT_STATE_THRESHOLD = 1000;\n\nconst MediaEditProviderWrapper = ( props ) => {\n\tconst { clientId, providerProps, BlockEdit } = props;\n\n\tconst mediaElementRef = useRef();\n\tconst ref = useRef();\n\tconst { attributes, setAttributes } = props;\n\tconst { mediaSourceId: mediaSourceIdAttr } = attributes;\n\n\tconst { name: attrName, domTypeName } = providerProps;\n\n\t// Check media has defined its source.\n\tconst mediaSourceUrl = attributes?.[ attrName ];\n\n\tconst { updateBlockAttributes } = useDispatch( blockEditorStore );\n\n\t// Media properties / helpers.\n\tconst {\n\t\tisPaused,\n\t\tregister,\n\t\tunregister,\n\t\tupdateData,\n\t\tsetCurrentTime,\n\t} = useMediaStore( mediaSourceIdAttr );\n\n\tconst { currentTime } = useCurrentTime( mediaSourceIdAttr );\n\n\tconst mediaCenterParentBlock = useSelect(\n\t\t( select ) =>\n\t\t\tselect( blockEditorStore ).getBlock(\n\t\t\t\tselect( blockEditorStore ).getBlockParentsByBlockName(\n\t\t\t\t\tclientId,\n\t\t\t\t\tmediaCenterBlockName\n\t\t\t\t)?.[ 0 ]\n\t\t\t),\n\t\t[]\n\t);\n\n\tconst mediaCenterParentClientId = mediaCenterParentBlock?.clientId;\n\tconst mediaCenterParentSourceIdAttr =\n\t\tmediaCenterParentBlock?.attributes.mediaSourceId;\n\n\tfunction onMetadataReady( event ) {\n\t\tupdateData( {\n\t\t\tduration: event?.srcElement?.duration,\n\t\t} );\n\t}\n\n\tfunction play() {\n\t\tmediaElementRef.current?.play().catch( () => {} );\n\t}\n\n\tfunction pause() {\n\t\tmediaElementRef.current?.pause();\n\t}\n\n\tfunction onTimeChange( time ) {\n\t\tsetCurrentTime( time );\n\t}\n\n\t/*\n\t* querySelector is the string used to pick up\n\t* the DOM Element reference.\n\t*/\n\tlet querySelector;\n\n\tfunction updateElementRef() {\n\t\tif ( ! querySelector ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst mediaElement = document?.querySelector( querySelector );\n\t\tif ( ! mediaElement ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Update media element reference (useRef).\n\t\tmediaElementRef.current = mediaElement;\n\t\treturn mediaElement;\n\t}\n\n\t/*\n\t * - Register/Unregister Media source in the store.\n\t * - Set `preload` equal to `metadata` to load it.\n\t */\n\tuseEffect( () => {\n\t\t// Bail early when no source for the current block.\n\t\tif ( ! mediaSourceUrl ) {\n\t\t\treturn;\n\t\t}\n\n\t\t/*\n\t\t * Get the media source ID, based on:\n\t\t *\n\t\t * - the mediaSourceId attribute when it's defined:\n\t\t * If the attribute is not defined, then let's assing\n\t\t * a new one based on the clientId of the media block.\n\t\t *\n\t\t * - checking whether it's already present in the store.\n\t\t * It happens when the block is duplicated. In this case,\n\t\t * we need to assign a new ID.\n\t\t */\n\t\tlet mediaSourceId = mediaSourceIdAttr;\n\t\tconst mediaIdExists = !! doSelect( mediaSourceStore ).getMediaSourceById( mediaSourceId );\n\t\tif ( ! mediaSourceId || mediaIdExists ) {\n\t\t\tmediaSourceId = `media-source-${ clientId }`;\n\t\t\tsetAttributes( { mediaSourceId } );\n\t\t}\n\n\t\t// Do not register the media when no element is found.\n\t\tquerySelector = `[data-media-source-provider-id=\"${ mediaSourceId }\"] ${ domTypeName }`;\n\t\tconst mediaElement = updateElementRef();\n\t\tif ( ! mediaElement ) {\n\t\t\treturn;\n\t\t}\n\n\t\t/*\n\t\t * Pre load mediaElement metadata.\n\t\t * It allows preloading useful metadata\n\t\t * of the media source, for instance,\n\t\t * the media duration.\n\t\t */\n\t\tmediaElement.preload = 'metadata';\n\t\tmediaElement.autoplay = false;\n\n\t\t// Register media source in the store.\n\t\tregister( mediaSourceId, {\n\t\t\tmediaBlockClientId: clientId,\n\t\t\tsource: mediaSourceUrl,\n\t\t\telementType: domTypeName,\n\t\t\tquerySelector,\n\t\t} );\n\n\t\t// Subscribe to media events.\n\t\tmediaElement.addEventListener( 'loadedmetadata', onMetadataReady );\n\n\t\t// Clean.\n\t\treturn function() {\n\t\t\t// Cleaning Media Source source ID\n\t\t\t// if the block is linked to it.\n\t\t\tif ( mediaCenterParentSourceIdAttr === mediaSourceIdAttr ) {\n\t\t\t\tupdateBlockAttributes( mediaCenterParentClientId, {\n\t\t\t\t\tmediaSourceId: MEDIA_NOT_DEFINED,\n\t\t\t\t} );\n\t\t\t}\n\n\t\t\t// Remove listeners.\n\t\t\tmediaElement.removeEventListener(\n\t\t\t\t'loadedmetadata',\n\t\t\t\tonMetadataReady\n\t\t\t);\n\n\t\t\t// Unregister media from store.\n\t\t\tunregister( mediaSourceId );\n\t\t};\n\t}, [\n\t\tmediaSourceIdAttr,\n\t\tsetAttributes,\n\t\tmediaSourceUrl,\n\t\tmediaCenterParentClientId,\n\t\tmediaCenterParentSourceIdAttr,\n\t] );\n\n\t/* Child provider.\n\t * Check whether the provider is child of a block consumer.\n\t * If so, it means that the provider is a media center block.\n\t * @TODO: Move/improve this logic. Currently, it's harcoded to the MediaCenter block.\n\t */\n\tuseEffect( () => {\n\t\t// Block doesn't have defined its source. Bail early.\n\t\tif ( ! mediaSourceUrl || ! mediaSourceIdAttr ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Block is not child of MediaCenter. Bail Early.\n\t\tif ( ! mediaCenterParentClientId ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Media Center source ID is defined properly. Bail early.\n\t\tif (\n\t\t\tmediaCenterParentSourceIdAttr &&\n\t\t\tmediaCenterParentSourceIdAttr !== MEDIA_NOT_DEFINED\n\t\t) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Link MediaCenter block on the fly with the media block.\n\t\tupdateBlockAttributes( mediaCenterParentClientId, {\n\t\t\t[ mediaConsumerBlockAttributeName ]: mediaSourceIdAttr,\n\t\t} );\n\t}, [\n\t\tmediaSourceUrl,\n\t\tmediaSourceIdAttr,\n\t\tmediaCenterParentClientId,\n\t\tmediaCenterParentSourceIdAttr,\n\t] );\n\n\t// Play/Pause media depending on playing status (via store).\n\tuseEffect( () => {\n\t\tif ( ! mediaElementRef?.current ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst { current: mediaElement } = mediaElementRef;\n\n\t\t/*\n\t\t * Get the current status of the mediaElement element,\n\t\t * and the required action to toggle it.\n\t\t */\n\t\tconst action = mediaElement.paused ? play : pause;\n\t\tconst debouncedAction = debounce( action, 100 );\n\n\t\tif ( isPaused !== mediaElement.paused ) {\n\t\t\tdebouncedAction();\n\t\t}\n\n\t\treturn () => {\n\t\t\tdebouncedAction.cancel();\n\t\t};\n\t}, [ isPaused, mediaElementRef ] );\n\n\t// Handling media state.\n\tuseEffect( () => {\n\t\tconst { current: mediaElement } = mediaElementRef;\n\t\tif ( ! mediaElement ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst throttledTimeChange = throttle(\n\t\t\t( time ) => onTimeChange( time ),\n\t\t\tMEDIA_CURRENT_TIME_THRESHOLD,\n\t\t\t{\n\t\t\t\tleading: true,\n\t\t\t\ttrailing: false,\n\t\t\t}\n\t\t);\n\n\t\tconst onTimeUpdate = ( e ) => throttledTimeChange( e.target.currentTime );\n\t\tmediaElement?.addEventListener( 'timeupdate', onTimeUpdate );\n\n\t\treturn () => {\n\t\t\tthrottledTimeChange.cancel();\n\t\t\tmediaElement?.removeEventListener( 'timeupdate', onTimeUpdate );\n\t\t};\n\t}, [ mediaElementRef, onTimeChange ] );\n\n\t// Handling current time.\n\tuseEffect( () => {\n\t\tconst { current: mediaElement } = mediaElementRef;\n\t\tif ( typeof currentTime !== 'number' || ! mediaElement ) {\n\t\t\treturn;\n\t\t}\n\n\t\t/*\n\t\t * Update the current time when difference between\n\t\t * the media element and the state is bigger than\n\t\t * the threshold  MEDIA_CURRENT_TIME_THRESHOLD.\n\t\t */\n\t\tif (\n\t\t\tMath.abs(\n\t\t\t\tMath.floor( currentTime - mediaElement.currentTime ) * 1000\n\t\t\t) > MEDIA_CURRENT_STATE_THRESHOLD\n\t\t) {\n\t\t\tmediaElement.currentTime = currentTime;\n\t\t}\n\t}, [ mediaElementRef, currentTime ] );\n\n\t/*\n\t * Observe the block element in the DOM subtree,\n\t * and update the media element reference accordingly.\n\t */\n\tuseLayoutEffect( () => {\n\t\tif ( ! ref?.current ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst observer = new window.MutationObserver( updateElementRef );\n\n\t\tobserver.observe( ref.current, {\n\t\t\tchildList: true,\n\t\t\tattributes: false,\n\t\t\tsubtree: true,\n\t\t} );\n\n\t\treturn () => {\n\t\t\tobserver.disconnect();\n\t\t};\n\t}, [ ref ] );\n\n\t// Bail early when no clientId.\n\tif ( ! clientId ) {\n\t\treturn <BlockEdit { ...props } />;\n\t}\n\n\tif ( ! mediaSourceIdAttr ) {\n\t\treturn <BlockEdit { ...props } />;\n\t}\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<InspectorControls>\n\t\t\t\t<Panel>\n\t\t\t\t\t<MediaConnectProviderPanelBody />\n\t\t\t\t</Panel>\n\t\t\t</InspectorControls>\n\n\t\t\t<div ref={ ref } data-media-source-provider-id={ mediaSourceIdAttr }>\n\t\t\t\t<BlockEdit { ...props } />\n\t\t\t</div>\n\t\t</Fragment>\n\t);\n};\n\nconst MediaEditConnectProvider = ( providerProps ) =>\n\tcreateHigherOrderComponent(\n\t\t( BlockEdit ) => ( props ) => (\n\t\t\t<MediaEditProviderWrapper\n\t\t\t\t{ ...props }\n\t\t\t\tproviderProps={ providerProps }\n\t\t\t\tBlockEdit={ BlockEdit }\n\t\t\t/>\n\t\t),\n\t\t'MediaEditConnectProvider'\n\t);\n\nfunction addMediaManagerConnectSupport( settings ) {\n\tconst blockProviderProps = getBlockSupport( settings, SUPPORT_NAME );\n\tif ( ! blockProviderProps ) {\n\t\treturn settings;\n\t}\n\n\t// `mediaSourceId` attribute stores the reference to the media source.\n\tconst attributes = {\n\t\t...settings.attributes,\n\t\t[ mediaProviderBlockAttributeName ]: {\n\t\t\ttype: 'string',\n\t\t},\n\t};\n\n\treturn {\n\t\t...settings,\n\t\tattributes,\n\t\tedit: MediaEditConnectProvider( blockProviderProps )( settings.edit ),\n\t};\n}\n\naddFilter(\n\t'blocks.registerBlockType',\n\t'media-manager/register-media-player-connect-blocks',\n\taddMediaManagerConnectSupport,\n\t20\n);\n","/**\n * Internal dependencies\n */\nimport './colors';\nimport './connect';\nimport './media-selector';\n\n// Export support names.\nexport { SUPPORT_NAME as SUPPORT_MEDIA_SELECTOR } from './media-selector';\nexport { SUPPORT_NAME as SUPPORT_SIZES } from './sizes';\nexport { SUPPORT_NAME as SUPPORT_CONNECT_PROVIDER } from './connect/provider';\nexport { SUPPORT_NAME as SUPPORT_CONNECT_CONSUMER } from './connect/consumer';\n","/**\n * External dependencies\n */\nimport { values } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { addFilter } from '@wordpress/hooks';\nimport { getBlockSupport, createBlock, getBlockType } from '@wordpress/blocks';\nimport { useState, useCallback, Fragment } from '@wordpress/element';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { __ } from '@wordpress/i18n';\nimport { createHigherOrderComponent } from '@wordpress/compose';\nimport {\n\tInspectorControls,\n\tBlockControls,\n\tstore as blockEditorStore,\n\tBlockIcon,\n} from '@wordpress/block-editor';\nimport { Placeholder, Panel, Button, Toolbar } from '@wordpress/components';\nimport {\n\tstore as mediaManagerStore,\n\tuseMediaSourceId,\n\tMEDIA_NOT_DEFINED,\n\tuseMediaStore,\n} from '@media-manager/media-connect';\n\n/**\n * Internal dependencies\n */\nimport { MediaSelector, MediaItemPanelBody } from '../../';\nimport { mediaConsumerBlockAttributeName } from '../../constants';\n\nexport const SUPPORT_NAME = 'media-manager/media-selector';\n\nconst useInsertMediaBlock = () => {\n\tconst { insertBlock } = useDispatch( blockEditorStore );\n\n\treturn useCallback(\n\t\tasync ( blockType = 'core/video', clientId, index = 0 ) => {\n\t\t\tconst mediaBlock = await createBlock( blockType );\n\t\t\tawait insertBlock( mediaBlock, index, clientId, false );\n\t\t},\n\t\t[ insertBlock ]\n\t);\n};\n\nexport const withMediaSelector = createHigherOrderComponent(\n\t( OriginalBlock ) => {\n\t\treturn function( props ) {\n\t\t\tconst {\n\t\t\t\tattributes,\n\t\t\t\tsetAttributes,\n\t\t\t\tclientId,\n\t\t\t\tname,\n\t\t\t\tcontext,\n\t\t\t} = props;\n\t\t\tconst { mediaSourceReferenceId } = attributes;\n\n\t\t\tconst [ isReplacing, setIsReplacing ] = useState( false );\n\n\t\t\tconst mediaSourceId = useMediaSourceId(\n\t\t\t\tmediaConsumerBlockAttributeName,\n\t\t\t\tprops\n\t\t\t);\n\n\t\t\tconst isNotDefined = mediaSourceId === MEDIA_NOT_DEFINED;\n\n\t\t\tconst { source, isReady, isNotAvailable } = useMediaStore( mediaSourceId );\n\n\t\t\tconst { mediaSources } = useSelect( ( select ) => {\n\t\t\t\treturn {\n\t\t\t\t\tmediaSources: select( mediaManagerStore ).getMediaSources(),\n\t\t\t\t};\n\t\t\t}, [] );\n\n\t\t\tconst setSourceReferenceId = ( sourceId ) =>\n\t\t\t\tsetAttributes( { mediaSourceReferenceId: sourceId } );\n\n\t\t\tconst insertMediaBlock = useInsertMediaBlock();\n\n\t\t\tfunction insertEmptyMediaBlock( type ) {\n\t\t\t\tsetSourceReferenceId( MEDIA_NOT_DEFINED );\n\t\t\t\tsetIsReplacing( false );\n\t\t\t\tinsertMediaBlock( type, clientId );\n\t\t\t}\n\n\t\t\tconst { title: label, description: instructions, icon } =\n\t\t\t\tgetBlockType( name ) || {};\n\n\t\t\tif ( isReplacing || ! mediaSourceId ) {\n\t\t\t\treturn (\n\t\t\t\t\t<div className=\"media-selector-placeholder wp-block\">\n\t\t\t\t\t\t<Placeholder\n\t\t\t\t\t\t\ticon={ <BlockIcon icon={ icon } /> }\n\t\t\t\t\t\t\tlabel={ label }\n\t\t\t\t\t\t\tinstructions={ instructions }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<MediaSelector\n\t\t\t\t\t\t\t\tmedia={ values( mediaSources ) }\n\t\t\t\t\t\t\t\tonMediaSelect={ ( id ) => {\n\t\t\t\t\t\t\t\t\tsetSourceReferenceId( id );\n\t\t\t\t\t\t\t\t\tsetIsReplacing( false );\n\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tisSecondary\n\t\t\t\t\t\t\t\tlabel={ __(\n\t\t\t\t\t\t\t\t\t'Continue adding a video block',\n\t\t\t\t\t\t\t\t\t'media-manager'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\tonClick={ () =>\n\t\t\t\t\t\t\t\t\tinsertEmptyMediaBlock( 'core/video' )\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ __(\n\t\t\t\t\t\t\t\t\t'Start with Video block',\n\t\t\t\t\t\t\t\t\t'media-manager'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t</Button>\n\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tisSecondary\n\t\t\t\t\t\t\t\tlabel={ __(\n\t\t\t\t\t\t\t\t\t'Continue adding a audio block',\n\t\t\t\t\t\t\t\t\t'media-manager'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\tonClick={ () =>\n\t\t\t\t\t\t\t\t\tinsertEmptyMediaBlock( 'core/audio' )\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ __(\n\t\t\t\t\t\t\t\t\t'Start with an Audio block',\n\t\t\t\t\t\t\t\t\t'media-manager'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t</Button>\n\n\t\t\t\t\t\t\t{ isReplacing &&\n\t\t\t\t\t\t\t\tmediaSourceId !== MEDIA_NOT_DEFINED && (\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tisTertiary\n\t\t\t\t\t\t\t\t\tlabel={ __(\n\t\t\t\t\t\t\t\t\t\t'Cancel replacing media source',\n\t\t\t\t\t\t\t\t\t\t'media-manager'\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\tonClick={ () =>\n\t\t\t\t\t\t\t\t\t\tsetIsReplacing( false )\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{ __(\n\t\t\t\t\t\t\t\t\t\t'Cancel replacement',\n\t\t\t\t\t\t\t\t\t\t'media-manager'\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t) }\n\n\t\t\t\t\t\t\t{ ( ! isReplacing ||\n\t\t\t\t\t\t\t\tmediaSourceId === MEDIA_NOT_DEFINED ) && (\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tisTertiary\n\t\t\t\t\t\t\t\t\tlabel={ __(\n\t\t\t\t\t\t\t\t\t\t'Continue without media source',\n\t\t\t\t\t\t\t\t\t\t'media-manager'\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\t\t\tsetIsReplacing( false );\n\t\t\t\t\t\t\t\t\t\tsetSourceReferenceId(\n\t\t\t\t\t\t\t\t\t\t\tMEDIA_NOT_DEFINED\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{ __( 'Skip', 'media-manager' ) }\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t</Placeholder>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\n\t\t\treturn (\n\t\t\t\t<Fragment>\n\t\t\t\t\t{ ! context?.mediaSourceId && (\n\t\t\t\t\t\t<BlockControls>\n\t\t\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tonClick={ () => setIsReplacing( true ) }\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{ mediaSourceId !== MEDIA_NOT_DEFINED\n\t\t\t\t\t\t\t\t\t\t? __( 'Replace', 'media-manager' )\n\t\t\t\t\t\t\t\t\t\t: __( 'Link', 'media-manager' ) }\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</Toolbar>\n\t\t\t\t\t\t</BlockControls>\n\t\t\t\t\t) }\n\n\t\t\t\t\t<InspectorControls>\n\t\t\t\t\t\t<Panel>\n\t\t\t\t\t\t\t<MediaItemPanelBody\n\t\t\t\t\t\t\t\tsource={ source }\n\t\t\t\t\t\t\t\tisReady={ isReady }\n\t\t\t\t\t\t\t\tisNotAvailable={ isNotAvailable }\n\t\t\t\t\t\t\t\tisNotDefined={ isNotDefined }\n\t\t\t\t\t\t\t\tisMediaInherited={ ! mediaSourceReferenceId }\n\t\t\t\t\t\t\t\tonReplace={ setIsReplacing }\n\t\t\t\t\t\t\t\tonUnlink={ () => setSourceReferenceId( null ) }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Panel>\n\t\t\t\t\t</InspectorControls>\n\t\t\t\t\t<OriginalBlock { ...props } />\n\t\t\t\t</Fragment>\n\t\t\t);\n\t\t};\n\t},\n\t'withMediaSelector'\n);\n\nfunction addMediaSelectorSupport( settings ) {\n\tif ( ! getBlockSupport( settings, SUPPORT_NAME ) ) {\n\t\treturn settings;\n\t}\n\n\treturn {\n\t\t...settings,\n\t\tattributes: {\n\t\t\t...settings.attributes,\n\t\t\t[ mediaConsumerBlockAttributeName ]: {\n\t\t\t\ttype: 'string',\n\t\t\t},\n\t\t},\n\t\tedit: withMediaSelector( settings.edit ),\n\t};\n}\n\naddFilter(\n\t'blocks.registerBlockType',\n\t'media-manager/register-media-selector-blocks',\n\taddMediaSelectorSupport\n);\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { addFilter } from '@wordpress/hooks';\nimport { getBlockSupport } from '@wordpress/blocks';\n\n/**\n * Internal dependencies\n */\nimport { withSizes } from '../../';\n\n// Define and export support name.\nexport const SUPPORT_NAME = 'media-manager/sizes';\n\nfunction addMediaManagerSizeSaveProps( props, settings, attributes ) {\n\tconst sizes = getBlockSupport( settings, SUPPORT_NAME );\n\tif ( ! sizes ) {\n\t\treturn props;\n\t}\n\n\tconst { size } = attributes;\n\treturn {\n\t\t...props,\n\t\tclassName: classnames( props?.className, `is-${ size }-size` ),\n\t};\n}\n\nfunction addMediaManagerSizeSupport( settings ) {\n\tconst sizes = getBlockSupport( settings, SUPPORT_NAME );\n\tif ( ! sizes ) {\n\t\treturn settings;\n\t}\n\n\tconst existingGetEditWrapperProps = settings.getEditWrapperProps;\n\n\treturn {\n\t\t...settings,\n\t\tattributes: {\n\t\t\t...settings.attributes,\n\t\t\tsize: {\n\t\t\t\ttype: 'string',\n\t\t\t\tdefault: 'normal',\n\t\t\t},\n\t\t},\n\n\t\tgetEditWrapperProps: ( attributes ) => {\n\t\t\tlet props = {};\n\t\t\tif ( existingGetEditWrapperProps ) {\n\t\t\t\tprops = existingGetEditWrapperProps( attributes );\n\t\t\t}\n\n\t\t\treturn addMediaManagerSizeSaveProps( props, settings, attributes );\n\t\t},\n\n\t\tedit: withSizes( sizes )( settings.edit ),\n\t};\n}\n\naddFilter(\n\t'blocks.registerBlockType',\n\t'media-manager/register-media-player-buttons-blocks',\n\taddMediaManagerSizeSupport,\n\t0 // <- it change the order in the InspectorControls (sidebar)\n);\n\naddFilter(\n\t'blocks.getSaveContent.extraProps',\n\t'media-manager/add-media-player-buttons-save-props',\n\taddMediaManagerSizeSaveProps\n);\n","export * from './hooks';\nexport * from './components';\n","/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/components';\nimport { createHigherOrderComponent } from '@wordpress/compose';\n\nexport const MovieIcon = () => (\n\t<SVG\n\t\txmlns=\"https://www.w3.org/2000/svg\"\n\t\tviewBox=\"0 0 24 24\"\n\t\twidth=\"24\"\n\t\theight=\"24\"\n\t>\n\t\t<Path d=\"M18 3v2h-2V3H8v2H6V3H4v18h2v-2h2v2h8v-2h2v2h2V3h-2zM8 17H6v-2h2v2zm0-4H6v-2h2v2zm0-4H6V7h2v2zm10 8h-2v-2h2v2zm0-4h-2v-2h2v2zm0-4h-2V7h2v2z\" />\n\t</SVG>\n);\n\nexport const MediaCenterIcon = () => (\n\t<SVG\n\t\txmlns=\"https://www.w3.org/2000/svg\"\n\t\tviewBox=\"0 0 24 24\"\n\t\twidth=\"24\"\n\t\theight=\"24\"\n\t>\n\t\t<Path d=\"M7,11v2h10v-2c0-1.86,1.28-3.41,3-3.86V6c0-1.65-1.35-3-3-3H7C5.35,3,4,4.35,4,6v1.14C5.72,7.59,7,9.14,7,11z\" />\n\t\t<path d=\"M21,9c-1.1,0-2,0.9-2,2v4H5v-4c0-1.1-0.9-2-2-2s-2,0.9-2,2v5c0,1.65,1.35,3,3,3v1c0,0.55,0.45,1,1,1c0.55,0,1-0.45,1-1v-1 h12v1c0,0.55,0.45,1,1,1c0.55,0,1-0.45,1-1v-1c1.65,0,3-1.35,3-3v-5C23,9.9,22.1,9,21,9z\" />\n\t</SVG>\n);\n\nexport const MediaLinkIcon = () => (\n\t<SVG\n\t\txmlns=\"https://www.w3.org/2000/svg\"\n\t\tviewBox=\"0 0 24 24\"\n\t\twidth=\"24\"\n\t\theight=\"24\"\n\t>\n\t\t<Path d=\"M8 11h8v2H8zm12.1 1H22c0-2.76-2.24-5-5-5h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1zM3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM19 12h-2v3h-3v2h3v3h2v-3h3v-2h-3z\" />\n\t</SVG>\n);\n\nexport const withScale = createHigherOrderComponent(\n\t( Icon ) => ( props ) => {\n\t\tif ( ! props?.scale || props.scale === 1 ) {\n\t\t\treturn <Icon { ...props } />;\n\t\t}\n\n\t\treturn (\n\t\t\t<Icon\n\t\t\t\t{ ...props }\n\t\t\t\twidth={ 24 * props.scale }\n\t\t\t\theight={ 24 * props.scale }\n\t\t\t/>\n\t\t);\n\t},\n\t'withIconScale'\n);\n\nexport const PlayerPlayIcon = withScale( () => (\n\t<SVG\n\t\tclassName=\"player-play-icon\"\n\t\txmlns=\"https://www.w3.org/2000/svg\"\n\t\tviewBox=\"0 0 24 24\"\n\t>\n\t\t<Path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 14.5v-9l6 4.5-6 4.5z\" />\n\t</SVG>\n) );\n\nexport const PlayerPauseIcon = withScale( () => (\n\t<SVG\n\t\tclassName=\"player-pause-icon\"\n\t\txmlns=\"https://www.w3.org/2000/svg\"\n\t\tviewBox=\"0 0 24 24\"\n\t>\n\t\t<Path d=\"M12,2C6.48,2,2,6.48,2,12s4.48,10,10,10s10-4.48,10-10S17.52,2,12,2z M11,16H9V8h2V16z M15,16h-2V8h2V16z\" />\n\t</SVG>\n) );\n\nexport const ControlForwardFiveIcon = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M12.7049 2V6C8.30658 6 4.74414 9.58 4.74414 14C4.74414 18.42 8.30658 22 12.7049 22C17.1032 22 20.6656 18.42 20.6656 14H18.6755C18.6755 17.31 15.9987 20 12.7049 20C9.41113 20 6.73433 17.31 6.73433 14C6.73433 10.69 9.41113 8 12.7049 8V12L17.6804 7L12.7049 2ZM11.6501 12.73L11.4013 14.9L12.068 15.06C12.0753 15.0526 12.0827 15.0447 12.0901 15.0366C12.1131 15.0116 12.1375 14.9851 12.1675 14.97C12.1874 14.96 12.2073 14.9475 12.2272 14.935C12.2471 14.9225 12.2671 14.91 12.287 14.9C12.3268 14.88 12.3865 14.86 12.4362 14.85C12.486 14.84 12.5556 14.83 12.6352 14.83C12.7447 14.83 12.8542 14.85 12.9338 14.88C13.0134 14.91 13.083 14.96 13.1427 15.03C13.2024 15.1 13.2422 15.17 13.2721 15.27C13.302 15.37 13.3119 15.47 13.3119 15.58V15.58C13.3119 15.69 13.3119 15.79 13.2821 15.89C13.2522 15.99 13.2124 16.07 13.1726 16.14C13.1328 16.21 13.0631 16.27 12.9935 16.31C12.9238 16.35 12.8343 16.37 12.7248 16.37C12.5556 16.37 12.4163 16.31 12.3069 16.22C12.1974 16.13 12.1377 15.99 12.1178 15.81H11.2819C11.2819 16.01 11.3317 16.19 11.4113 16.34C11.4909 16.49 11.5904 16.63 11.7297 16.73C11.869 16.83 12.0183 16.92 12.1874 16.97C12.3566 17.02 12.5357 17.05 12.7148 17.05C12.9636 17.05 13.1726 17 13.3517 16.93C13.5308 16.86 13.6801 16.75 13.7995 16.62C13.9189 16.49 14.0085 16.34 14.0682 16.17C14.1279 16 14.1577 15.82 14.1577 15.63C14.1577 15.41 14.1179 15.21 14.0682 15.03C14.0184 14.85 13.9289 14.7 13.8194 14.58C13.7099 14.46 13.5706 14.37 13.4114 14.3C13.2522 14.23 13.0731 14.2 12.8641 14.2C12.7945 14.2 12.7248 14.21 12.6651 14.22C12.6352 14.225 12.6054 14.2325 12.5755 14.24C12.5457 14.2475 12.5158 14.255 12.486 14.26C12.4263 14.27 12.3765 14.29 12.3367 14.31C12.3201 14.3183 12.3035 14.325 12.2876 14.3313C12.2654 14.3401 12.2446 14.3483 12.2272 14.36L12.3367 13.44H14.0284V12.73H11.6501Z\" />\n\t</SVG>\n);\n\nexport const ControlBackFiveIcon = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M11.9412 2V6C16.3395 6 19.902 9.58 19.902 14C19.902 18.42 16.3395 22 11.9412 22C7.54291 22 3.98047 18.42 3.98047 14H5.97066C5.97066 17.31 8.64746 20 11.9412 20C15.235 20 17.9118 17.31 17.9118 14C17.9118 10.69 15.235 8 11.9412 8V12L6.96575 7L11.9412 2ZM10.8864 12.73L10.6376 14.9L11.3044 15.06C11.3117 15.0526 11.319 15.0447 11.3264 15.0366C11.3494 15.0116 11.3738 14.9851 11.4039 14.97C11.4238 14.96 11.4437 14.9475 11.4636 14.935C11.4835 14.9225 11.5034 14.91 11.5233 14.9C11.5631 14.88 11.6228 14.86 11.6725 14.85C11.7223 14.84 11.792 14.83 11.8716 14.83C11.981 14.83 12.0905 14.85 12.1701 14.88C12.2497 14.91 12.3194 14.96 12.3791 15.03C12.4388 15.1 12.4786 15.17 12.5084 15.27C12.5383 15.37 12.5482 15.47 12.5482 15.58V15.58C12.5482 15.69 12.5482 15.79 12.5184 15.89C12.4885 15.99 12.4487 16.07 12.4089 16.14C12.3691 16.21 12.2995 16.27 12.2298 16.31C12.1601 16.35 12.0706 16.37 11.9611 16.37C11.792 16.37 11.6526 16.31 11.5432 16.22C11.4337 16.13 11.374 15.99 11.3541 15.81H10.5182C10.5182 16.01 10.568 16.19 10.6476 16.34C10.7272 16.49 10.8267 16.63 10.966 16.73C11.1053 16.83 11.2546 16.92 11.4238 16.97C11.5929 17.02 11.7721 17.05 11.9512 17.05C12.1999 17.05 12.4089 17 12.588 16.93C12.7672 16.86 12.9164 16.75 13.0358 16.62C13.1552 16.49 13.2448 16.34 13.3045 16.17C13.3642 16 13.3941 15.82 13.3941 15.63C13.3941 15.41 13.3543 15.21 13.3045 15.03C13.2547 14.85 13.1652 14.7 13.0557 14.58C12.9463 14.46 12.807 14.37 12.6477 14.3C12.4885 14.23 12.3094 14.2 12.1004 14.2C12.0308 14.2 11.9611 14.21 11.9014 14.22C11.8716 14.225 11.8417 14.2325 11.8119 14.24C11.782 14.2475 11.7522 14.255 11.7223 14.26C11.6626 14.27 11.6128 14.29 11.573 14.31C11.5564 14.3183 11.5398 14.325 11.5239 14.3313C11.5017 14.3401 11.481 14.3483 11.4636 14.36L11.573 13.44H13.2647V12.73H10.8864Z\" />\n\t</SVG>\n);\n\nexport const PlayerPlayPauseIcon = withScale( () => (\n\t<SVG\n\t\tclassName=\"player-play-pause-icon\"\n\t\txmlns=\"https://www.w3.org/2000/svg\"\n\t\tviewBox=\"0 0 24 24\"\n\t>\n\t\t<Path d=\"M12,2C6.48,2,2,6.48,2,12c0,5.52,4.48,10,10,10s10-4.48,10-10C22,6.48,17.52,2,12,2z M11,16H9V8h2V16z M12,16V8l5,4L12,16z\" />\n\t</SVG>\n) );\n\nexport const PlayerIcon = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M3.24 6.15C2.51 6.43 2 7.17 2 8v12c0 1.1.89 2 2 2h16c1.11 0 2-.9 2-2V8c0-1.11-.89-2-2-2H8.3l8.26-3.34L15.88 1 3.24 6.15zM7 20c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm13-8h-2v-2h-2v2H4V8h16v4z\" />\n\t</SVG>\n);\n\nexport const TimePositionIcon = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M21,5H3C1.9,5,1,5.9,1,7v10c0,1.1,0.9,2,2,2h18c1.1,0,2-0.9,2-2V7C23,5.9,22.1,5,21,5z M18,17H6V7h12V17z\" />\n\t</SVG>\n);\n\nexport const MediaConnectIcon = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M0 0h24v24H0z\" fill=\"none\" />\n\t\t<Path d=\"M22 12l-4 4-1.41-1.41L18.17 13h-5.23c-.34 3.1-2.26 5.72-4.94 7.05C7.96 21.69 6.64 23 5 23c-1.66 0-3-1.34-3-3s1.34-3 3-3c.95 0 1.78.45 2.33 1.14 1.9-1.03 3.26-2.91 3.58-5.14h-3.1C7.4 14.16 6.3 15 5 15c-1.66 0-3-1.34-3-3s1.34-3 3-3c1.3 0 2.4.84 2.82 2h3.1c-.32-2.23-1.69-4.1-3.59-5.14C6.78 6.55 5.95 7 5 7 3.34 7 2 5.66 2 4s1.34-3 3-3c1.64 0 2.96 1.31 2.99 2.95 2.68 1.33 4.6 3.95 4.94 7.05h5.23l-1.58-1.59L18 8l4 4z\" />\n\t</SVG>\n);\n","/**\n * Internal dependencies\n */\nexport * from './icons';\nexport * from './media-player';\n","/**\n * External dependencies\n */\nimport { debounce } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { useState, useEffect, useCallback } from '@wordpress/element';\nimport { RangeControl, Notice, Button } from '@wordpress/components';\nimport { useMediaStore, MEDIA_NOT_DEFINED } from '@media-manager/media-connect';\nimport { convertSecondsToTimeCode } from '@media-manager/time-utils';\n\n/**\n * Internal dependencies\n */\nimport {\n\tControlBackFiveIcon,\n\tControlForwardFiveIcon,\n\tPlayerPlayIcon,\n\tPlayerPauseIcon,\n\tPlayerPlayPauseIcon,\n} from '../icons';\n\nexport function JumpBackButton( { onClick, ...other } ) {\n\treturn (\n\t\t<Button\n\t\t\ticon={ ControlBackFiveIcon }\n\t\t\tonClick={ onClick }\n\t\t\tlabel={ __( 'Jump back', 'media-manager' ) }\n\t\t\t{ ...other }\n\t\t/>\n\t);\n}\n\nexport function PlayPauseButton( {\n\tonClick,\n\tisPaused = false,\n\tscale,\n\t...other\n} ) {\n\treturn (\n\t\t<Button\n\t\t\ticon={\n\t\t\t\tisPaused ? (\n\t\t\t\t\t<PlayerPlayPauseIcon scale={ scale } />\n\t\t\t\t) : (\n\t\t\t\t\t<PlayerPauseIcon scale={ scale } />\n\t\t\t\t)\n\t\t\t}\n\t\t\tonClick={ onClick }\n\t\t\tlabel={\n\t\t\t\tisPaused\n\t\t\t\t\t? __( 'Play', 'media-manager' )\n\t\t\t\t\t: __( 'Pause', 'media-manager' )\n\t\t\t}\n\t\t\t{ ...other }\n\t\t/>\n\t);\n}\n\nexport function PlayButton( { onClick, scale, ...other } ) {\n\treturn (\n\t\t<Button\n\t\t\ticon={ <PlayerPlayIcon scale={ scale } /> }\n\t\t\tonClick={ onClick }\n\t\t\tlabel={ __( 'Play', 'media-manager' ) }\n\t\t\t{ ...other }\n\t\t/>\n\t);\n}\n\nexport function PauseButton( { onClick, scale, ...other } ) {\n\treturn (\n\t\t<Button\n\t\t\ticon={ <PlayerPauseIcon scale={ scale } /> }\n\t\t\tonClick={ onClick }\n\t\t\tlabel={ __( 'Pause', 'media-manager' ) }\n\t\t\t{ ...other }\n\t\t/>\n\t);\n}\n\nexport function SkipForwardButton( { onClick, ...other } ) {\n\treturn (\n\t\t<Button\n\t\t\ticon={ ControlForwardFiveIcon }\n\t\t\tonClick={ onClick }\n\t\t\tlabel={ __( 'Skip forward', 'media-manager' ) }\n\t\t\t{ ...other }\n\t\t/>\n\t);\n}\n\nexport function MediaPlayerControl( {\n\tmediaSourceId,\n\ttime,\n\tonChange = () => {},\n} ) {\n\tconst [ rangeTime, setRangeTime ] = useState( time );\n\tuseEffect( () => setRangeTime( time ), [ time ] );\n\tconst {\n\t\tisPaused,\n\t\tisReady,\n\t\tduration,\n\t\ttoggle,\n\t\tsetCurrentTime,\n\t\tisNotAvailable,\n\t} = useMediaStore( mediaSourceId );\n\n\tconst isNotDefined = mediaSourceId === MEDIA_NOT_DEFINED;\n\n\tconst debouncedOnChange = useCallback(\n\t\tdebounce( function( debTime, debOnChange ) {\n\t\t\tif ( ! isPaused ) {\n\t\t\t\tsetCurrentTime( debTime );\n\t\t\t}\n\n\t\t\tdebOnChange( debTime );\n\t\t}, 250 ),\n\t\t[ isPaused ]\n\t);\n\n\t/**\n\t * Toggle media playing status.\n\t * Set current position when not playing.\n\t */\n\tfunction toggleInTime() {\n\t\tif ( isPaused ) {\n\t\t\tsetCurrentTime( time );\n\t\t}\n\t\ttoggle( mediaSourceId );\n\t}\n\n\tfunction onChangeTimeHandler( newTimeValue ) {\n\t\tsetRangeTime( newTimeValue );\n\t\tdebouncedOnChange( newTimeValue, onChange );\n\t}\n\n\tconst currentTimeFormatted = convertSecondsToTimeCode( rangeTime );\n\n\treturn (\n\t\t<div className=\"media-player-control\">\n\t\t\t{ ( ! isReady || isNotAvailable || isNotDefined ) && (\n\t\t\t\t<Notice\n\t\t\t\t\tspokenMessage={ null }\n\t\t\t\t\tstatus={ isNotAvailable && ! isNotDefined ? 'error' : 'warning' }\n\t\t\t\t\tisDismissible={ false }\n\t\t\t\t>\n\t\t\t\t\t{\n\t\t\t\t\t\tisNotAvailable && ! isNotDefined\n\t\t\t\t\t\t\t? __( 'Media is not available anymore', 'media-manager' )\n\t\t\t\t\t\t\t: __( 'No media linked to this block', 'media-manager' )\n\t\t\t\t\t}\n\t\t\t\t</Notice>\n\t\t\t) }\n\n\t\t\t<JumpBackButton\n\t\t\t\tdisabled={ ! isReady }\n\t\t\t\tonClick={ () => onChangeTimeHandler( Math.max( 0, time - 5 ) ) }\n\t\t\t/>\n\n\t\t\t<PlayPauseButton\n\t\t\t\tisPaused={ isPaused }\n\t\t\t\tdisabled={ ! isReady }\n\t\t\t\tonClick={ () => toggleInTime() }\n\t\t\t/>\n\n\t\t\t<SkipForwardButton\n\t\t\t\tdisabled={ ! isReady }\n\t\t\t\tonClick={ () => onChangeTimeHandler( Math.min( duration, time + 5 ) ) }\n\t\t\t/>\n\n\t\t\t<div className=\"media-player-control__display\">\n\t\t\t\t{ currentTimeFormatted }\n\t\t\t</div>\n\n\t\t\t<RangeControl\n\t\t\t\tdisabled={ ! isReady }\n\t\t\t\tvalue={ rangeTime }\n\t\t\t\tmin={ 0 }\n\t\t\t\tmax={ duration }\n\t\t\t\tonChange={ onChangeTimeHandler }\n\t\t\t\twithInputField={ false }\n\t\t\t\tshowTooltip={ false }\n\t\t\t/>\n\t\t</div>\n\t);\n}\n","/**\n * Internal dependencies\n */\nimport MediaLinkViewFormatType from './media-link/view';\n\nexport * as mediaLink from './media-link';\nexport { MediaLinkViewFormatType };\n","/**\n * WordPress dependencies\n */\nimport { __, sprintf } from '@wordpress/i18n';\nimport {\n\ttoggleFormat,\n\tapplyFormat,\n\tisCollapsed,\n\tgetActiveFormat,\n} from '@wordpress/rich-text';\nimport {\n\tRichTextToolbarButton,\n\tstore as blockEditorStore,\n} from '@wordpress/block-editor';\nimport { useSelect } from '@wordpress/data';\nimport { useState } from '@wordpress/element';\nimport { store as mediaManagerStore } from '@media-manager/media-connect';\nimport {\n\tconvertSecondsToTimeCode,\n\tconvertTimeCodeToSeconds,\n\tisTimeformat,\n\thasMultipleTimeformats,\n\tgetTimeformatMatch,\n} from '@media-manager/time-utils';\nimport { MediaLinkIcon } from '@media-manager/components';\n\n/**\n * Internal dependencies\n */\nimport { shouldExtendBlockWithMedia } from '../../../../src/extending/utils'; // @Todo: extend this!\nimport MediaLinkPopover from './media-link-popover';\nimport inputRuleHandler from './input-rule-handler';\n\nexport const name = 'media-manager/media-link-format-type';\n\nfunction MediaLinkFormatButton( { value, onChange, isActive, contentRef } ) {\n\tconst mediatCenterBlockClientId = shouldExtendBlockWithMedia();\n\tconst mediaCenterBlock = useSelect(\n\t\t( select ) =>\n\t\t\tselect( blockEditorStore ).getBlock(\n\t\t\t\tmediatCenterBlockClientId[ 0 ]\n\t\t\t),\n\t\t[]\n\t);\n\n\tconst { mediaSourceReferenceId } = mediaCenterBlock?.attributes || {};\n\tconst { domRef } = useSelect(\n\t\t( select ) => ( {\n\t\t\tdomRef: select( mediaManagerStore ).getMediaSourceDomReference(\n\t\t\t\tmediaSourceReferenceId\n\t\t\t),\n\t\t} ),\n\t\t[]\n\t);\n\n\tconst [ isMultipleEdition, setIsMultipleEdition ] = useState( false );\n\tif ( ! mediatCenterBlockClientId?.length ) {\n\t\treturn null;\n\t}\n\n\t// Media link format time position.\n\tconst { attributes } = getActiveFormat( value, name ) || {};\n\n\tconst { ownerDocument } = contentRef.current;\n\tconst { defaultView } = ownerDocument;\n\n\t// Set the initial time position for the format:\n\t// (1) From extended `timestamp` block attr.\n\t// (2) Selected text when it has time format (HH:MM:SS).\n\t// (3) Current position of the media source.\n\tlet mediaLinkFormatTimestamp = 0;\n\tlet isSingleOnTheFlyStyle = false; // <- detects a single timeformat selected hh:mm:ss\n\n\t// Check whether the selected text has a timestamp shape.\n\tconst selection = defaultView.getSelection();\n\tconst selectedText = selection.toString();\n\n\tif ( attributes?.timestamp ) {\n\t\tmediaLinkFormatTimestamp = Number(\n\t\t\tattributes?.timestamp?.replace( /#/, '' )\n\t\t);\n\t} else if ( ! isCollapsed( value ) ) {\n\t\tif ( isTimeformat( selectedText ) ) {\n\t\t\tisSingleOnTheFlyStyle = true;\n\t\t\tmediaLinkFormatTimestamp = convertTimeCodeToSeconds( selectedText );\n\t\t}\n\t} else if ( domRef?.currentTime ) {\n\t\tmediaLinkFormatTimestamp = domRef.currentTime;\n\t}\n\n\tconst multipleFormats = hasMultipleTimeformats( selectedText );\n\n\t/**\n\t * Helper function to apply the style format.\n\t *\n\t * @param {string} time timestamp to apply to the format\n\t * @return {Object} style forat object\n\t */\n\tfunction getStyleObject( time ) {\n\t\treturn {\n\t\t\ttype: name,\n\t\t\tattributes: {\n\t\t\t\ttimestamp: `#${ time }`,\n\t\t\t\tlabel: sprintf(\n\t\t\t\t\t/* translators: Playback at the specific position. %s: Time position */\n\t\t\t\t\t__( 'Playback at %1$s', 'media-manager' ),\n\t\t\t\t\tconvertSecondsToTimeCode( time )\n\t\t\t\t),\n\t\t\t},\n\t\t};\n\t}\n\n\t/**\n\t * Apply style format event handler.\n\t *\n\t * @param {string} newTimestamp new timestamp value to apply (optional)\n\t */\n\tfunction applyFormatStyleHandler( newTimestamp ) {\n\t\tif ( newTimestamp ) {\n\t\t\treturn onChange(\n\t\t\t\tapplyFormat( value, getStyleObject( newTimestamp ) )\n\t\t\t);\n\t\t}\n\n\t\tonChange(\n\t\t\ttoggleFormat( value, getStyleObject( mediaLinkFormatTimestamp ) )\n\t\t);\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<RichTextToolbarButton\n\t\t\t\tshortcutType=\"primary\"\n\t\t\t\ticon={ <MediaLinkIcon /> }\n\t\t\t\ttitle={ __( 'Link to media', 'media-manager' ) }\n\t\t\t\tonClick={ () => {\n\t\t\t\t\t/*\n\t\t\t\t\t * Set edition mode when:\n\t\t\t\t\t * - selected text has multi timeformats\n\t\t\t\t\t * - it is not a single selection\n\t\t\t\t\t * - there is not format active\n\t\t\t\t\t */\n\t\t\t\t\tif (\n\t\t\t\t\t\tmultipleFormats?.length &&\n\t\t\t\t\t\t! isSingleOnTheFlyStyle &&\n\t\t\t\t\t\t! isActive\n\t\t\t\t\t) {\n\t\t\t\t\t\treturn setIsMultipleEdition( true );\n\t\t\t\t\t}\n\n\t\t\t\t\tapplyFormatStyleHandler( false );\n\t\t\t\t} }\n\t\t\t\tisActive={ isActive }\n\t\t\t/>\n\n\t\t\t<MediaLinkPopover\n\t\t\t\tvalue={ value }\n\t\t\t\thasMultipleTimeformats={ multipleFormats }\n\t\t\t\tisMultipleEdition={ isMultipleEdition }\n\t\t\t\tcontentRef={ contentRef }\n\t\t\t\tcurrentTime={ mediaLinkFormatTimestamp }\n\t\t\t\tisActive={ isActive }\n\t\t\t\tmediaSourceId={ mediaSourceReferenceId }\n\t\t\t\tonTimeChange={ applyFormatStyleHandler }\n\t\t\t\tonIgnoreMultipleFormat={ () => {\n\t\t\t\t\tsetIsMultipleEdition( false );\n\t\t\t\t\tapplyFormatStyleHandler();\n\t\t\t\t} }\n\t\t\t\tonApplyMultipleFormat={ () => {\n\t\t\t\t\tlet match;\n\t\t\t\t\twhile (\n\t\t\t\t\t\t( match = getTimeformatMatch( selectedText ) ) !== null\n\t\t\t\t\t) {\n\t\t\t\t\t\tconst timestamp = match[ 0 ];\n\t\t\t\t\t\tconst { index: startIndex } = match;\n\t\t\t\t\t\tconst endIndex = startIndex + timestamp.length;\n\n\t\t\t\t\t\tvalue = applyFormat(\n\t\t\t\t\t\t\tvalue,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttype: name,\n\t\t\t\t\t\t\t\tattributes: {\n\t\t\t\t\t\t\t\t\ttimestamp: `#${ convertTimeCodeToSeconds(\n\t\t\t\t\t\t\t\t\t\ttimestamp\n\t\t\t\t\t\t\t\t\t) }`,\n\t\t\t\t\t\t\t\t\tlabel: sprintf(\n\t\t\t\t\t\t\t\t\t\t/* translators: Playback at the specific position. %s: Time position */\n\t\t\t\t\t\t\t\t\t\t__( 'Playback at %s', 'media-manager' ),\n\t\t\t\t\t\t\t\t\t\ttimestamp\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tstartIndex,\n\t\t\t\t\t\t\tendIndex\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\n\t\t\t\t\tonChange( value );\n\t\t\t\t\tsetIsMultipleEdition( false );\n\t\t\t\t} }\n\t\t\t/>\n\t\t</>\n\t);\n}\n\nexport const attributes = {\n\ttimestamp: 'href',\n\tlabel: 'title',\n};\n\nexport const settings = {\n\tname,\n\ttitle: 'Media link',\n\ttagName: 'a',\n\tclassName: 'media-link-format-type',\n\tattributes,\n\tedit: MediaLinkFormatButton,\n\t__unstableInputRule: inputRuleHandler,\n};\n","/**\n * External dependencies\n */\nimport { applyFormat, remove } from '@wordpress/rich-text';\nimport { __, sprintf } from '@wordpress/i18n';\nimport { select } from '@wordpress/data';\nimport { store as blockEditorStore } from '@wordpress/block-editor';\nimport { convertTimeCodeToSeconds, isMarkdownTimeformat } from '@media-manager/time-utils';\n\n/**\n * Internal dependencies\n */\nimport { name } from './';\n\n// @TODO: make it extensible.\nconst mediaCenterBlockName = 'media-manager/media-center';\n\nexport default function( value ) {\n\t/*\n\t * Apply rule handler only when current block\n\t * is child of media center.\n\t */\n\tconst { getSelectedBlockClientId, getBlockParentsByBlockName } = select(\n\t\tblockEditorStore\n\t);\n\tconst isChildOfMediaCenter = getBlockParentsByBlockName(\n\t\tgetSelectedBlockClientId(),\n\t\tmediaCenterBlockName\n\t).length;\n\n\tif ( ! isChildOfMediaCenter ) {\n\t\treturn value;\n\t}\n\n\tconst SIMPLE_OPEN_TRIGGER_CHAR = '[';\n\tconst SIMPLE_CLOSE_TRIGGER_CHAR = ']';\n\tconst MD_OPEN_TRIGGER_CHAR = '(';\n\tconst MD_CLOSE_TRIGGER_CHAR = ')';\n\tconst { start, text } = value;\n\n\tconst trigger = text.slice( start - 2, start - 1 );\n\n\tconst isTriggerChar =\n\t\ttrigger === SIMPLE_CLOSE_TRIGGER_CHAR ||\n\t\ttrigger === MD_CLOSE_TRIGGER_CHAR;\n\tif ( ! isTriggerChar ) {\n\t\treturn value;\n\t}\n\n\tconst textBefore = text.substr( 0, start );\n\tconst characterBefore = text.slice( start - 1, start );\n\n\tif ( characterBefore !== MD_OPEN_TRIGGER_CHAR ) {\n\t\tconst startIndex = textBefore.lastIndexOf( SIMPLE_OPEN_TRIGGER_CHAR );\n\t\tif ( startIndex === -1 ) {\n\t\t\treturn value;\n\t\t}\n\n\t\tconst parts = isMarkdownTimeformat( textBefore );\n\t\tif ( ! parts?.[ 1 ] ) {\n\t\t\treturn value;\n\t\t}\n\n\t\tconst timestamp = parts[ 1 ];\n\t\tconst endIndex = start - ( parts?.[ 2 ] ? timestamp.length + 5 : 3 ); // [hh:mm:ss].\n\t\tconst charsToRemove = parts?.[ 2 ] ? timestamp.length + 3 : 1; // [hh:mm:ss](link).\n\n\t\tvalue = remove( value, startIndex, startIndex + charsToRemove );\n\t\tvalue = remove( value, endIndex, endIndex + 1 );\n\n\t\tvalue = applyFormat(\n\t\t\tvalue,\n\t\t\t{\n\t\t\t\ttype: name,\n\t\t\t\tattributes: {\n\t\t\t\t\ttimestamp: `#${ convertTimeCodeToSeconds( timestamp ) }`,\n\t\t\t\t\tlabel: sprintf(\n\t\t\t\t\t\t/* translators: Playback at the specific position. %s: Time position */\n\t\t\t\t\t\t__( 'Playback at %s', 'media-manager' ),\n\t\t\t\t\t\ttimestamp\n\t\t\t\t\t),\n\t\t\t\t},\n\t\t\t},\n\t\t\tstartIndex,\n\t\t\tendIndex\n\t\t);\n\n\t\tvalue = remove( value, endIndex + 1, endIndex + 2 ); // <- move the carte at the init position.\n\t}\n\n\treturn value;\n}\n","/**\n * WordPress dependencies\n */\nimport { Popover, Button } from '@wordpress/components';\nimport { useAnchorRef } from '@wordpress/rich-text';\nimport { createInterpolateElement } from '@wordpress/element';\nimport { __, sprintf, _n } from '@wordpress/i18n';\nimport { MediaPlayerControl } from '@media-manager/components';\n\n/**\n * Internal dependencies\n */\nimport { settings } from './';\n\nexport default function MediaLinkPopover( {\n\tvalue,\n\thasMultipleTimeformats,\n\tisActive,\n\tisMultipleEdition,\n\tcontentRef,\n\tcurrentTime,\n\tmediaSourceId,\n\n\tonTimeChange,\n\tonApplyMultipleFormat,\n\tonIgnoreMultipleFormat,\n} ) {\n\tconst anchorRef = useAnchorRef( {\n\t\tref: contentRef,\n\t\tvalue,\n\t\tsettings,\n\t} );\n\n\tconst showMultipleEdition =\n\t\tisMultipleEdition && hasMultipleTimeformats?.length && ! isActive;\n\n\tif ( ! ( showMultipleEdition || isActive ) ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<Popover\n\t\t\tanchorRef={ anchorRef }\n\t\t\tposition=\"bottom center\"\n\t\t\tfocusOnMount={ false }\n\t\t>\n\t\t\t<div className=\"media-link-popover\">\n\t\t\t\t{ showMultipleEdition && (\n\t\t\t\t\t<div className=\"media-link-popover__multiple-styling\">\n\t\t\t\t\t\t{ createInterpolateElement(\n\t\t\t\t\t\t\tsprintf(\n\t\t\t\t\t\t\t\t/* translators: %d: number of timeformats found. */\n\t\t\t\t\t\t\t\t_n(\n\t\t\t\t\t\t\t\t\t'There was found <strong>%d</strong> time format in the selection.',\n\t\t\t\t\t\t\t\t\t'There were found <strong>%d</strong> time formats in the selection.',\n\t\t\t\t\t\t\t\t\thasMultipleTimeformats?.length,\n\t\t\t\t\t\t\t\t\t'media-manager'\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\thasMultipleTimeformats?.length\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tstrong: <strong />,\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t) }\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tisSecondary\n\t\t\t\t\t\t\tisSmall\n\t\t\t\t\t\t\tonClick={ onApplyMultipleFormat }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ __( 'Apply Media Link format', 'media-manager' ) }\n\t\t\t\t\t\t</Button>\n\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tisTertiary\n\t\t\t\t\t\t\tisSmall\n\t\t\t\t\t\t\tonClick={ onIgnoreMultipleFormat }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ __( 'Ignore', 'media-manager' ) }\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</div>\n\t\t\t\t) }\n\n\t\t\t\t{ ! showMultipleEdition && (\n\t\t\t\t\t<MediaPlayerControl\n\t\t\t\t\t\tmediaSourceId={ mediaSourceId }\n\t\t\t\t\t\ttime={ currentTime }\n\t\t\t\t\t\tonChange={ onTimeChange }\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t</div>\n\t\t</Popover>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { useEffect } from '@wordpress/element';\nimport { useMediaStore } from '@media-manager/media-connect';\n\nexport default function MediaLinkViewFormatType( { mediaSourceId, timestamp, children, elementRef } ) {\n\tconst { play } = useMediaStore( mediaSourceId );\n\n\tfunction onLinkClick() {\n\t\tplay( timestamp );\n\t}\n\n\tuseEffect( () => {\n\t\tif ( ! elementRef ) {\n\t\t\treturn;\n\t\t}\n\n\t\telementRef.addEventListener( 'click', onLinkClick );\n\n\t\treturn function() {\n\t\t\telementRef.removeEventListener( 'click', onLinkClick );\n\t\t};\n\t}, [ elementRef ] );\n\n\treturn children;\n}\n","// Store ID\nexport const STORE_NAME = 'media-manager/media-source';\n\n// Media statuses\nexport const STATE_PLAYING = 'is-playing';\nexport const STATE_ERROR = 'is-error';\nexport const STATE_PAUSED = 'is-paused';\nexport const MEDIA_NOT_DEFINED = 'media-not-defined-yet';\n","/**\n * External dependencies\n */\nimport { useSelect } from '@wordpress/data';\nimport { convertSecondsToTimeCode } from '@media-manager/time-utils';\n\n/**\n * Internal dependencies\n */\nimport { store as mediaManagerStore } from '../../';\n\nexport default function useCurrentTime( id ) {\n\treturn useSelect(\n\t\t( select ) => {\n\t\t\tconst currentTime =\n\t\t\t\tselect( mediaManagerStore ).getMediaSourceCurrentTime( id ) ||\n\t\t\t\t0;\n\t\t\treturn {\n\t\t\t\tcurrentTime,\n\t\t\t\tcurrentTimeFormatted: convertSecondsToTimeCode( currentTime ),\n\t\t\t};\n\t\t},\n\t\t[ id ]\n\t);\n}\n","/**\n * This hook picks up the media source,\n * at block level, by the following priorities:\n *\n * - block attribute.\n * - block context.\n * - default value in the store admin\n *\n * @param {string} attrName - Attribute name where the source id is stored.\n * @param {Object} props - Block properties.\n * @return {string|null} Media source id when it's defined. Otherwise, null.\n */\nexport default function useMediaSourceId( attrName, props ) {\n\tconst { attributes, context } = props;\n\n\t// Pick up media source ID from attributes.\n\tif ( attributes?.[ attrName ] ) {\n\t\treturn attributes[ attrName ];\n\t}\n\n\t// Pick up media source ID from context;\n\tif ( context?.mediaSourceId ) {\n\t\treturn context.mediaSourceId;\n\t}\n}\n","/**\n * External dependencies\n */\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { useCallback } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport { store as mediaManagerStore } from '../../';\nimport { STATE_NOT_READY, STATE_PAUSED } from '../../store/constants';\n\n/**\n * Media Store hook that provides properties and helper functions\n * to get useful data as well as be able to control the media.\n *\n * @param {string} id Media store ID.\n * @return {Object} Media store object, with properties and helpers.\n */\nexport default function useMediaStore( id ) {\n\tconst { isPaused, isReady, playingState, duration, isNotAvailable, source } = useSelect(\n\t\tfunction( select ) {\n\t\t\tconst mediaSource = select( mediaManagerStore ).getMediaSourceById( id );\n\t\t\tconst state = select( mediaManagerStore ).getMediaPlayerState( id );\n\t\t\treturn {\n\t\t\t\tsource: mediaSource,\n\t\t\t\tplayingState: state,\n\t\t\t\tisReady: state !== STATE_NOT_READY,\n\t\t\t\tisNotAvailable: ! mediaSource,\n\t\t\t\tisPaused:\n\t\t\t\t\ttypeof state === 'undefined' ||\n\t\t\t\t\tstate === STATE_NOT_READY ||\n\t\t\t\t\tstate === STATE_PAUSED,\n\t\t\t\tduration: select( mediaManagerStore ).getMediaSourceDuration( id ),\n\t\t\t};\n\t\t},\n\t\t[ id ]\n\t);\n\n\tconst {\n\t\tplayMediaSource,\n\t\tpauseMediaSource,\n\t\ttoggleMediaSource,\n\t\tsetMediaSourceCurrentTime,\n\t\tregisterMediaSource,\n\t\tunregisterMediaSource,\n\t\tupdateMediaSourceData,\n\t} = useDispatch( mediaManagerStore );\n\n\treturn {\n\t\tsource,\n\t\tisNotAvailable,\n\t\tclassName: isPaused ? 'is-media-paused' : '', // @Todo: Considering remove this className prp.\n\t\tplayingState,\n\t\tisPaused,\n\t\tisReady,\n\t\tduration,\n\t\tplay: useCallback( ( timestamp ) => {\n\t\t\tif ( timestamp && typeof timestamp === 'number' ) {\n\t\t\t\tsetMediaSourceCurrentTime( id, timestamp );\n\t\t\t}\n\t\t\tplayMediaSource( id );\n\t\t}, [ id ] ),\n\t\tpause: useCallback( () => pauseMediaSource( id ), [ id ] ),\n\t\ttoggle: useCallback( () => toggleMediaSource( id ), [ id ] ),\n\t\tregister: useCallback(\n\t\t\t( storeId, data ) => registerMediaSource( storeId, data ),\n\t\t\t[ id ]\n\t\t),\n\t\tunregister: useCallback(\n\t\t\t( mediaSourceId ) => unregisterMediaSource( mediaSourceId ),\n\t\t\t[]\n\t\t),\n\t\tupdateData: useCallback(\n\t\t\t( data ) =>\n\t\t\t\tupdateMediaSourceData( id, data ),\n\t\t\t[]\n\t\t),\n\t\tsetCurrentTime: useCallback(\n\t\t\t( timestamp ) => setMediaSourceCurrentTime( id, timestamp ),\n\t\t\t[ id ]\n\t\t),\n\t};\n}\n","export { store } from './store';\nexport {\n\tSTATE_PLAYING,\n\tSTATE_PAUSED,\n\tSTATE_ERROR,\n\tMEDIA_NOT_DEFINED,\n} from './constants';\nexport { default as useMediaStore } from './hooks/use-media-store';\nexport { default as useMediaSourceId } from './hooks/use-media-source-id';\nexport { default as useCurrentTime } from './hooks/use-current-time';\n","/**\n * Internal dependencies\n */\nimport { STATE_PLAYING, STATE_PAUSED, STATE_ERROR } from './constants';\n\nexport function registerMediaSource( id, mediaSourceState ) {\n\treturn {\n\t\ttype: 'REGISTER_MEDIA_SOURCE',\n\t\tid,\n\t\tmediaSourceState,\n\t};\n}\n\nexport function updateMediaSourceData( id, data ) {\n\treturn {\n\t\ttype: 'UPDATE_MEDIA_SOURCE_DATA',\n\t\tid,\n\t\tdata,\n\t};\n}\n\nexport function unregisterMediaSource( id ) {\n\treturn {\n\t\ttype: 'UNREGISTER_MEDIA_SOURCE',\n\t\tid,\n\t};\n}\n\nexport function setDefaultMediaSource( id ) {\n\treturn {\n\t\ttype: 'SET_DEFAULT_MEDIA_SOURCE',\n\t\tid,\n\t};\n}\n\nexport function playMediaSource( id ) {\n\treturn {\n\t\ttype: 'SET_MEDIA_PLAYER_STATE',\n\t\tid,\n\t\tstate: STATE_PLAYING,\n\t};\n}\n\nexport function toggleMediaSource( id ) {\n\treturn {\n\t\ttype: 'TOGGLE_MEDIA_PLAYER_STATE',\n\t\tid,\n\t};\n}\n\nexport function pauseMediaSource( id ) {\n\treturn {\n\t\ttype: 'SET_MEDIA_PLAYER_STATE',\n\t\tid,\n\t\tstate: STATE_PAUSED,\n\t};\n}\n\nexport function errorMediaSource( id ) {\n\treturn {\n\t\ttype: 'SET_MEDIA_PLAYER_STATE',\n\t\tid,\n\t\tstate: STATE_ERROR,\n\t};\n}\n\nexport function setMediaSourceCurrentTime( id, currentTime ) {\n\treturn {\n\t\ttype: 'SET_MEDIA_PLAYER_CURRENT_TIME',\n\t\tid,\n\t\tcurrentTime,\n\t};\n}\n","// Store ID\nexport const STORE_NAME = 'media-manager/media-source';\n\n// Media statuses.\nexport const STATE_NOT_READY = 'is-not-ready';\nexport const STATE_PLAYING = 'is-playing';\nexport const STATE_ERROR = 'is-error';\nexport const STATE_PAUSED = 'is-paused';\nexport const MEDIA_NOT_DEFINED = 'media-not-defined-yet';\n\nexport const DEFAULT_STATE = {\n\tsources: {},\n\tdefault: null,\n};\n","/**\n * WordPress dependencies\n */\nimport { createReduxStore, register } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport reducer from './reducer';\nimport * as actions from './actions';\nimport * as selectors from './selectors';\n\nimport { STORE_NAME } from './constants';\n\n/**\n * Store definition for the meida source namespace.\n *\n * @see https://github.com/WordPress/gutenberg/blob/HEAD/packages/data/README.md#createReduxStore\n *\n * @type {Object}\n */\nexport const store = createReduxStore( STORE_NAME, {\n\treducer,\n\tactions,\n\tselectors,\n} );\n\nregister( store );\n","/**\n * Internal dependencies\n */\nimport {\n\tDEFAULT_STATE,\n\tMEDIA_NOT_DEFINED,\n\tSTATE_PLAYING,\n\tSTATE_PAUSED,\n} from './constants';\n\nfunction reducer( state = DEFAULT_STATE, action ) {\n\t// Some actions doesn't have defined the source ID\n\t// On this case, we try to get safe getting the default ID.\n\t// Othewise, it will try to pick the first fro the souces list.\n\tconst actionId =\n\t\taction.id || state.default || Object.keys( state.sources )?.[ 0 ];\n\n\t// Do not register when it sets explicitely as not defined.\n\tif ( actionId === MEDIA_NOT_DEFINED ) {\n\t\treturn state;\n\t}\n\n\tswitch ( action.type ) {\n\t\tcase 'REGISTER_MEDIA_SOURCE': {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tsources: {\n\t\t\t\t\t...state.sources,\n\t\t\t\t\t[ action.id ]: {\n\t\t\t\t\t\tid: action.id,\n\t\t\t\t\t\t...action.mediaSourceState,\n\t\t\t\t\t\tstate: action.mediaSourceState.state ?? STATE_PAUSED,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t};\n\t\t}\n\n\t\tcase 'UPDATE_MEDIA_SOURCE_DATA': {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tsources: {\n\t\t\t\t\t...state.sources,\n\t\t\t\t\t[ action.id ]: {\n\t\t\t\t\t\t...state.sources[ action.id ],\n\t\t\t\t\t\t...action.data,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t};\n\t\t}\n\n\t\tcase 'UNREGISTER_MEDIA_SOURCE': {\n\t\t\tconst currentState = Object.assign( {}, state );\n\t\t\tif ( currentState.sources[ action.id ] ) {\n\t\t\t\tdelete currentState.sources[ action.id ];\n\t\t\t}\n\n\t\t\t// Set the first source as default\n\t\t\t// if it's removing it.\n\t\t\tif ( action.id === state.default ) {\n\t\t\t\tcurrentState.default = Object.keys( state.sources )?.[ 0 ];\n\t\t\t}\n\n\t\t\treturn currentState;\n\t\t}\n\n\t\tcase 'SET_DEFAULT_MEDIA_SOURCE': {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tdefault: action.id,\n\t\t\t};\n\t\t}\n\n\t\tcase 'SET_MEDIA_PLAYER_STATE': {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tsources: {\n\t\t\t\t\t...state.sources,\n\t\t\t\t\t[ actionId ]: {\n\t\t\t\t\t\t...state.sources[ actionId ],\n\t\t\t\t\t\tstate: action.state,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t};\n\t\t}\n\n\t\tcase 'TOGGLE_MEDIA_PLAYER_STATE': {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tsources: {\n\t\t\t\t\t...state.sources,\n\t\t\t\t\t[ actionId ]: {\n\t\t\t\t\t\t...state.sources[ actionId ],\n\t\t\t\t\t\tstate:\n\t\t\t\t\t\t\tstate.sources[ actionId ].state === STATE_PLAYING\n\t\t\t\t\t\t\t\t? STATE_PAUSED\n\t\t\t\t\t\t\t\t: STATE_PLAYING,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t};\n\t\t}\n\n\t\tcase 'SET_MEDIA_PLAYER_CURRENT_TIME': {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tsources: {\n\t\t\t\t\t...state.sources,\n\t\t\t\t\t[ actionId ]: {\n\t\t\t\t\t\t...state.sources[ actionId ],\n\t\t\t\t\t\tcurrentTime: action.currentTime,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t};\n\t\t}\n\t}\n\n\treturn state;\n}\n\nexport default reducer;\n","/**\n * Internal dependencies\n */\nimport { MEDIA_NOT_DEFINED, STATE_NOT_READY } from './constants';\n\nexport function getMediaSources( state ) {\n\treturn state.sources;\n}\n\nexport function getMediaSourceById( state, id ) {\n\tif ( id === MEDIA_NOT_DEFINED ) {\n\t\treturn;\n\t}\n\treturn state.sources?.[ id ];\n}\n\n/**\n * Retunr the default media source.\n * - the default one in case it's defined.\n * - the first one in case there are sources defined\n * - null when no media sources :-o\n *\n * @param {Object} state\n * @return {string|null} default media source ID.\n */\nexport function getDefaultMediaSource( state ) {\n\tlet playerId = null;\n\tconst keys = Object.keys( state.sources );\n\n\tif ( state.default ) {\n\t\tplayerId = state.default;\n\t} else if ( keys?.length ) {\n\t\tplayerId = state.sources[ keys[ 0 ] ].id;\n\t}\n\n\tif ( ! playerId ) {\n\t\treturn;\n\t}\n\n\treturn state.sources[ playerId ];\n}\n\nexport function getMediaPlayerState( state, id ) {\n\tconst defaultMediaSource = id\n\t\t? state.sources?.[ id ]\n\t\t: getDefaultMediaSource( state );\n\n\tif ( ! defaultMediaSource?.state ) {\n\t\treturn STATE_NOT_READY;\n\t}\n\n\treturn defaultMediaSource.state;\n}\n\nexport function getMediaSourceCurrentTime( state, id ) {\n\tconst defaultMediaSource = id\n\t\t? state.sources?.[ id ]\n\t\t: getDefaultMediaSource( state );\n\n\treturn defaultMediaSource?.currentTime;\n}\n\nexport function getMediaSourceDuration( state, id ) {\n\tif ( ! id ) {\n\t\tconst defaultMediaSource = getDefaultMediaSource( state );\n\t\treturn defaultMediaSource?.duration;\n\t}\n\n\treturn state.sources?.[ id ]?.duration;\n}\n\nexport function getMediaSourceDomReference( state, id ) {\n\tconst mediaSource = id\n\t\t? state.sources?.[ id ]\n\t\t: getDefaultMediaSource( state );\n\n\tif ( ! mediaSource ) {\n\t\treturn;\n\t}\n\n\tif ( ! mediaSource?.querySelector ) {\n\t\treturn;\n\t}\n\n\treturn document.querySelector( mediaSource.querySelector );\n}\n","export const timecodeRegExp = new RegExp(\n\t/^(?:(?:([01]?\\d|2[0-3]):)?([0-5]?\\d):)?([0-5]?\\d)$/\n);\n\nconst multiple = /(?:(?:([01]?\\d|2[0-3]):)?([0-5]?\\d):)?([0-5]?\\d)/;\nconst singleTimecodeRegExp = new RegExp( multiple, 'g' );\nconst multipleTimecodeRegExp = new RegExp( multiple, 'gm' );\n\nconst markdownTimeformat = /\\[((?:(?:(?:[01]?\\d|2[0-3]:):)?[0-5]?\\d:)?[0-5]?\\d)\\](?:\\(([^\\(\\)]+)\\))?.$/;\nconst markdownTimeformatRegExp = new RegExp( markdownTimeformat );\n\nexport function convertSecondsToTimeCode( seconds ) {\n\tif ( ! seconds ) {\n\t\treturn '00:00:00';\n\t}\n\treturn new Date( seconds * 1000 ).toISOString().substr( 11, 8 );\n}\n\nexport const convertTimeCodeToSeconds = ( string ) => {\n\tif ( ! isTimeformat( string ) ) {\n\t\treturn;\n\t}\n\tconst parts = string.match( timecodeRegExp );\n\tif ( ! parts ) {\n\t\treturn;\n\t}\n\n\t// seconds.\n\tlet time = Number( parts[ 3 ] );\n\n\t// minutes.\n\tif ( parts[ 2 ] ) {\n\t\ttime += Number( parts[ 2 ] ) * 60;\n\t}\n\n\t// hours.\n\tif ( parts[ 1 ] ) {\n\t\ttime += Number( parts[ 1 ] ) * 60 * 60;\n\t}\n\n\treturn time;\n};\n\nexport const isTimeformat = ( value ) => timecodeRegExp.test( value );\n\nexport const isMarkdownTimeformat = ( value ) =>\n\tmarkdownTimeformatRegExp.exec( value );\n\nexport const hasMultipleTimeformats = ( value ) =>\n\tvalue.match( multipleTimecodeRegExp );\n\nexport const getTimeformatMatch = ( value ) =>\n\tsingleTimecodeRegExp.exec( value );\n","/**\n * Internal dependencies\n */\nimport './media-center';\nimport './media-player';\nimport './play-button';\nimport './pause-button';\nimport './play-pause-button';\nimport './time-position';\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { useBlockProps, InnerBlocks } from '@wordpress/block-editor';\n\nconst MEDIA_CENTER_TEMPLATE = [\n\t[\n\t\t'core/paragraph',\n\t\t{\n\t\t\tplaceholder: __(\n\t\t\t\t'Type / to choose a block, from your couch!',\n\t\t\t\t'media-manager'\n\t\t\t),\n\t\t},\n\t],\n];\n\n/**\n * Internal dependencies\n */\nimport './editor.scss';\n\nexport default function MediaCenterEdit() {\n\treturn (\n\t\t<div { ...useBlockProps() }>\n\t\t\t<InnerBlocks template={ MEDIA_CENTER_TEMPLATE } />\n\t\t</div>\n\t);\n}\n","// extracted by mini-css-extract-plugin\nexport {};","/**\n * WordPress dependencies\n */\nimport { registerBlockType } from '@wordpress/blocks';\nimport { MediaCenterIcon as icon } from '@media-manager/components';\n\n/**\n * Internal dependencies\n */\nimport Edit from './edit';\nimport save from './save';\nimport './style.scss';\n\nexport const blockName = 'media-manager/media-center';\n\nregisterBlockType( blockName, {\n\tedit: Edit,\n\tsave,\n\ticon,\n} );\n","/**\n * WordPress dependencies\n */\nimport { InnerBlocks, useBlockProps } from '@wordpress/block-editor';\n\nexport default function save( { attributes } ) {\n\treturn (\n\t\t<div\n\t\t\t{ ...useBlockProps.save( { className: 'entry-content' } ) }\n\t\t\tdata-media-source-ref={ attributes?.mediaSourceId }\n\t\t>\n\t\t\t<InnerBlocks.Content />\n\t\t</div>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport {\n\tuseBlockProps,\n\t__experimentalUseInnerBlocksProps as useInnerBlocksProps,\n} from '@wordpress/block-editor';\n\n/**\n * Internal dependencies\n */\nimport { blockName as playButtonBlockName } from '../play-button';\nimport { blockName as pauseButtonBlockName } from '../pause-button';\nimport { blockName as playPauseButtonBlockName } from '../play-pause-button';\nimport { blockName as TimePositionBlockName } from '../time-position';\nimport './editor.scss';\n\nexport const PLAYER_BLOCKS = [\n\tplayButtonBlockName,\n\tpauseButtonBlockName,\n\tplayPauseButtonBlockName,\n\tTimePositionBlockName,\n];\n\nconst INNER_BLOCKS_TEMPLATE = [\n\t[\n\t\tplayPauseButtonBlockName,\n\t\t{\n\t\t\tsize: 'medium',\n\t\t},\n\t],\n\n\t[\n\t\tpauseButtonBlockName,\n\t\t{\n\t\t\tsize: 'medium',\n\t\t},\n\t],\n\n\t[\n\t\tTimePositionBlockName,\n\t],\n];\n\nexport default function MediaPlayerEditBlock() {\n\tconst blockProps = useBlockProps();\n\n\tconst innerBlocksProps = useInnerBlocksProps( blockProps, {\n\t\tallowedBlocks: PLAYER_BLOCKS,\n\t\torientation: 'horizontal',\n\t\ttemplateLock: false,\n\t\ttemplate: INNER_BLOCKS_TEMPLATE,\n\t} );\n\n\treturn <div { ...innerBlocksProps } />;\n}\n","// extracted by mini-css-extract-plugin\nexport {};","/**\n * WordPress dependencies\n */\nimport { registerBlockType } from '@wordpress/blocks';\nimport { PlayerIcon as icon } from '@media-manager/components';\n\n/**\n * Internal dependencies\n */\nimport Edit from './edit';\nimport save from './save';\nimport './style.scss';\n\nexport const blockName = 'media-manager/media-player';\n\nregisterBlockType( blockName, {\n\tedit: Edit,\n\tsave,\n\ticon,\n} );\n","/**\n * WordPress dependencies\n */\nimport { InnerBlocks, useBlockProps } from '@wordpress/block-editor';\n\nexport default function save() {\n\treturn (\n\t\t<div { ...useBlockProps.save() }>\n\t\t\t<InnerBlocks.Content />\n\t\t</div>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { useBlockProps } from '@wordpress/block-editor';\nimport { Disabled } from '@wordpress/components';\nimport { PauseButton as Button } from '@media-manager/components';\n\n/**\n * Internal dependencies\n */\nimport './editor.scss';\n\nexport default function PlayEditBlock( { mediaSource, scale, className, isSelected } ) {\n\treturn (\n\t\t<div { ...useBlockProps() }>\n\t\t\t<Disabled isDisabled={ ! isSelected }>\n\t\t\t\t<Button\n\t\t\t\t\tclassName={ className }\n\t\t\t\t\tscale={ scale }\n\t\t\t\t\tonClick={ mediaSource.pause }\n\t\t\t\t\tdisabled={ mediaSource.isNotAvailable }\n\t\t\t\t/>\n\t\t\t</Disabled>\n\t\t</div>\n\t);\n}\n","// extracted by mini-css-extract-plugin\nexport {};","/**\n * WordPress dependencies\n */\nimport { registerBlockType } from '@wordpress/blocks';\nimport domReady from '@wordpress/dom-ready';\nimport { PlayerPauseIcon as icon } from '@media-manager/components';\n\n/**\n * Internal dependencies\n */\nimport Edit from './edit';\nimport save from './save';\nimport './style.scss';\n\nexport const blockName = 'media-manager/pause-button';\n\ndomReady( function() {\n\t// we need this if we'd like to extend the block :'(\n\tregisterBlockType( blockName, {\n\t\tedit: Edit,\n\t\tsave,\n\t\ticon,\n\t} );\n} );\n","/**\n * WordPress dependencies\n */\nimport { useBlockProps } from '@wordpress/block-editor';\nimport { getButtonSizeBySlug } from '@media-manager/block-editor-complements';\nimport { PlayerPauseIcon } from '@media-manager/components';\n\nexport default function save( { attributes } ) {\n\treturn (\n\t\t<div { ...useBlockProps.save() }>\n\t\t\t<button className=\"wp-media-manager-player-button__button\">\n\t\t\t\t<PlayerPauseIcon\n\t\t\t\t\tscale={ getButtonSizeBySlug( attributes?.size ) }\n\t\t\t\t/>\n\t\t\t</button>\n\t\t</div>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { useBlockProps } from '@wordpress/block-editor';\nimport { Disabled } from '@wordpress/components';\nimport { PlayButton as Button } from '@media-manager/components';\n\n/**\n * Internal dependencies\n */\nimport './editor.scss';\n\nexport default function PlayEditBlock( { mediaSource, scale, className, isSelected } ) {\n\treturn (\n\t\t<div { ...useBlockProps() }>\n\t\t\t<Disabled isDisabled={ ! isSelected }>\n\t\t\t\t<Button\n\t\t\t\t\tclassName={ className }\n\t\t\t\t\tscale={ scale }\n\t\t\t\t\tonClick={ mediaSource.play }\n\t\t\t\t\tdisabled={ mediaSource.isNotAvailable }\n\t\t\t\t/>\n\t\t\t</Disabled>\n\t\t</div>\n\t);\n}\n","// extracted by mini-css-extract-plugin\nexport {};","/**\n * WordPress dependencies\n */\nimport { registerBlockType } from '@wordpress/blocks';\nimport domReady from '@wordpress/dom-ready';\nimport { PlayerPlayIcon as icon } from '@media-manager/components';\n\n/**\n * Internal dependencies\n */\nimport Edit from './edit';\nimport save from './save';\nimport './style.scss';\n\nexport const blockName = 'media-manager/play-button';\n\ndomReady( function() {\n\t// we need this if we'd like to extend the block :'(\n\tregisterBlockType( blockName, {\n\t\tedit: Edit,\n\t\tsave,\n\t\ticon,\n\t} );\n} );\n","/**\n * WordPress dependencies\n */\nimport { useBlockProps } from '@wordpress/block-editor';\nimport { PlayerPlayIcon } from '@media-manager/components';\nimport { getButtonSizeBySlug } from '@media-manager/block-editor-complements';\n\nexport default function save( { attributes } ) {\n\treturn (\n\t\t<div { ...useBlockProps.save() }>\n\t\t\t<button className=\"wp-media-manager-player-button__button\">\n\t\t\t\t<PlayerPlayIcon\n\t\t\t\t\tscale={ getButtonSizeBySlug( attributes?.size ) }\n\t\t\t\t/>\n\t\t\t</button>\n\t\t</div>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { useBlockProps } from '@wordpress/block-editor';\nimport { Disabled } from '@wordpress/components';\nimport { PlayPauseButton as Button } from '@media-manager/components';\n\n/**\n * Internal dependencies\n */\nimport './editor.scss';\n\nexport default function PlayPauseEditBlock( {\n\tmediaSource,\n\tscale,\n\tclassName,\n\tisSelected,\n} ) {\n\treturn (\n\t\t<div { ...useBlockProps() }>\n\t\t\t<Disabled isDisabled={ ! isSelected }>\n\t\t\t\t<Button\n\t\t\t\t\tclassName={ className }\n\t\t\t\t\tisPaused={ mediaSource.isPaused }\n\t\t\t\t\tscale={ scale }\n\t\t\t\t\tonClick={ mediaSource.toggle }\n\t\t\t\t\tdisabled={ mediaSource.isNotAvailable }\n\t\t\t\t/>\n\t\t\t</Disabled>\n\t\t</div>\n\t);\n}\n","// extracted by mini-css-extract-plugin\nexport {};","/**\n * WordPress dependencies\n */\nimport { registerBlockType } from '@wordpress/blocks';\nimport domReady from '@wordpress/dom-ready';\nimport { PlayerPlayPauseIcon as icon } from '@media-manager/components';\n\n/**\n * Internal dependencies\n */\nimport Edit from './edit';\nimport save from './save';\nimport './style.scss';\n\nexport const blockName = 'media-manager/play-pause-button';\n\ndomReady( function() {\n\t// we need this if we'd like to extend the block :'(\n\tregisterBlockType( blockName, {\n\t\tedit: Edit,\n\t\tsave,\n\t\ticon,\n\t} );\n} );\n","/**\n * WordPress dependencies\n */\nimport { useBlockProps } from '@wordpress/block-editor';\nimport { getButtonSizeBySlug } from '@media-manager/block-editor-complements';\nimport { PlayerPauseIcon, PlayerPlayPauseIcon } from '@media-manager/components';\n\nexport default function save( { attributes } ) {\n\tconst scale = getButtonSizeBySlug( attributes?.size );\n\treturn (\n\t\t<div { ...useBlockProps.save() }>\n\t\t\t<button className=\"wp-media-manager-player-button__button is-media-paused\">\n\t\t\t\t<PlayerPlayPauseIcon scale={ scale } />\n\t\t\t\t<PlayerPauseIcon scale={ scale } />\n\t\t\t</button>\n\t\t</div>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { useBlockProps } from '@wordpress/block-editor';\nimport { useCurrentTime } from '@media-manager/media-connect';\n\n/**\n * Internal dependencies\n */\nimport './editor.scss';\n\nexport default function TimePositionDisplayEditBlock( { mediaSourceId } ) {\n\tconst { currentTimeFormatted } = useCurrentTime( mediaSourceId );\n\n\treturn (\n\t\t<div { ...useBlockProps() }>\n\t\t\t<div className=\"time-position-display__wrapper\">\n\t\t\t\t{ currentTimeFormatted }\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n","// extracted by mini-css-extract-plugin\nexport {};","/**\n * WordPress dependencies\n */\nimport { registerBlockType } from '@wordpress/blocks';\nimport { TimePositionIcon as icon } from '@media-manager/components';\n\n/**\n * Internal dependencies\n */\nimport Edit from './edit';\nimport save from './save';\nimport './style.scss';\n\nexport const blockName = 'media-manager/time-position-display';\n\nregisterBlockType( blockName, {\n\tedit: Edit,\n\tsave,\n\ticon,\n} );\n","/**\n * WordPress dependencies\n */\nimport { useBlockProps } from '@wordpress/block-editor';\nimport { __ } from '@wordpress/i18n';\n\nexport default function save() {\n\treturn (\n\t\t<div { ...useBlockProps.save() }>\n\t\t\t<div className=\"time-position-display__wrapper\">\n\t\t\t\t{ __( '00:00', 'media-manager' ) }\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n","// extracted by mini-css-extract-plugin\nexport {};","const BLOCK_NAME_CORE_VIDEO = 'core/video';\nconst BLOCK_NAME_CORE_AUDIO = 'core/audio';\nconst BLOCK_NAME_CORE_PARAGRAPH = 'core/paragraph';\nconst BLOCK_NAME_CORE_HEADING = 'core/heading';\nconst BLOCK_NAME_CORE_QUOTE = 'core/quote';\nconst BLOCK_NAME_CORE_LIST = 'core/list';\n\n/*\n * Blocks list that are going to be extended\n * as media source providers\n */\nexport const EXTENDED_MEDIA_BLOCKS = [\n\tBLOCK_NAME_CORE_AUDIO,\n\tBLOCK_NAME_CORE_VIDEO,\n];\n\n/*\n * The following object defines the attribute schema\n * for each block that will be extended.\n *\n * - name: Block attribute name used to store the media source.\n * - type: Attribute type.\n * - domTymeName: DOM element name.\n */\nexport const MEDIA_BLOCKS_ATTRIBUTE_SCHEMA = {\n\t[ BLOCK_NAME_CORE_VIDEO ]: {\n\t\tname: 'src',\n\t\ttype: 'string',\n\t\tdomTypeName: 'video',\n\t},\n\n\t[ BLOCK_NAME_CORE_AUDIO ]: {\n\t\tname: 'src',\n\t\ttype: 'string',\n\t\tdomTypeName: 'audio',\n\t},\n};\n\nexport const EXTEND_BLOCKS_WITH_MEDIA = [\n\tBLOCK_NAME_CORE_PARAGRAPH,\n\tBLOCK_NAME_CORE_HEADING,\n\tBLOCK_NAME_CORE_QUOTE,\n\tBLOCK_NAME_CORE_LIST,\n];\n","/**\n * Internal dependencies\n */\nimport './media-blocks';\n","/**\n * WordPress dependencies\n */\nimport { addFilter } from '@wordpress/hooks';\n\n/**\n * Internal dependencies\n */\nimport { getBlockSourceProps, shouldExtendMediaBlock } from '../utils';\nimport { SUPPORT_CONNECT_PROVIDER } from '@media-manager/block-editor-complements';\n\nfunction registerMediaBlocksSource( settings, name ) {\n\tif ( ! shouldExtendMediaBlock( name, settings ) ) {\n\t\treturn settings;\n\t}\n\n\treturn {\n\t\t...settings,\n\t\tsupports: {\n\t\t\t...settings.support,\n\t\t\t[ SUPPORT_CONNECT_PROVIDER ]: getBlockSourceProps( name ),\n\t\t},\n\t};\n}\n\naddFilter(\n\t'blocks.registerBlockType',\n\t'media-manager/registerMediaBlockSource',\n\tregisterMediaBlocksSource\n);\n","/**\n * WordPress dependencies\n */\nimport { select } from '@wordpress/data';\nimport { store as blockEditorStore } from '@wordpress/block-editor';\n\n/**\n * Internal dependencies\n */\nimport {\n\tEXTENDED_MEDIA_BLOCKS,\n\tMEDIA_BLOCKS_ATTRIBUTE_SCHEMA,\n\tEXTEND_BLOCKS_WITH_MEDIA,\n} from './constants';\n\nfunction isMediaBlockListed( name ) {\n\treturn EXTENDED_MEDIA_BLOCKS.indexOf( name ) >= 0;\n}\n\nfunction isBlockListed( name ) {\n\treturn name && EXTEND_BLOCKS_WITH_MEDIA.indexOf( name ) >= 0;\n}\n\nfunction hasBlockValidScheme( name, attributes ) {\n\t// check if the scheme is defined.\n\tif ( ! MEDIA_BLOCKS_ATTRIBUTE_SCHEMA[ name ] ) {\n\t\treturn false;\n\t}\n\n\tconst blockSchema = MEDIA_BLOCKS_ATTRIBUTE_SCHEMA[ name ];\n\n\t// check if the attribute name exists in the scheme.\n\tif ( ! attributes[ blockSchema.name ] ) {\n\t\treturn false;\n\t}\n\n\t// check attribute type.\n\tif (\n\t\t! attributes[ blockSchema.name ].type ||\n\t\tattributes[ blockSchema.name ].type !== blockSchema.type\n\t) {\n\t\treturn false;\n\t}\n\n\treturn true;\n}\n\n/**\n * Check whether the given block should be extended with media source.\n *\n * @param {string} name Block name.\n * @param {Object} settings Block attributes.\n * @return {boolean} True if the block should be extended. Otherwise, False.\n */\nexport function shouldExtendMediaBlock( name, settings ) {\n\tif ( ! isMediaBlockListed( name ) ) {\n\t\treturn false;\n\t}\n\n\treturn hasBlockValidScheme( name, settings?.attributes );\n}\n\nexport function getBlockSourceProps( name ) {\n\treturn MEDIA_BLOCKS_ATTRIBUTE_SCHEMA?.[ name ];\n}\n\nexport function shouldExtendBlockWithMedia( name ) {\n\tconst selectedBlock = select( blockEditorStore ).getSelectedBlock();\n\tif ( ! isBlockListed( name || selectedBlock?.name ) ) {\n\t\treturn false;\n\t}\n\n\tif ( ! selectedBlock?.clientId ) {\n\t\treturn false;\n\t}\n\n\treturn select( blockEditorStore ).getBlockParentsByBlockName(\n\t\tselectedBlock.clientId,\n\t\t'media-manager/media-center'\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { registerFormatType } from '@wordpress/rich-text';\nimport { mediaLink } from '@media-manager/format-library';\n\n/**\n * Internal dependencies\n */\nimport './editor.scss';\nimport './extending';\nimport './block-library';\n\nregisterFormatType( mediaLink.name, mediaLink.settings );\n","(function() { module.exports = window[\"wp\"][\"blockEditor\"]; }());","(function() { module.exports = window[\"wp\"][\"blocks\"]; }());","(function() { module.exports = window[\"wp\"][\"components\"]; }());","(function() { module.exports = window[\"wp\"][\"compose\"]; }());","(function() { module.exports = window[\"wp\"][\"data\"]; }());","(function() { module.exports = window[\"wp\"][\"domReady\"]; }());","(function() { module.exports = window[\"wp\"][\"element\"]; }());","(function() { module.exports = window[\"wp\"][\"hooks\"]; }());","(function() { module.exports = window[\"wp\"][\"i18n\"]; }());","(function() { module.exports = window[\"wp\"][\"richText\"]; }());","(function() { module.exports = window[\"lodash\"]; }());"],"sourceRoot":""}